<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BSN STAFF Panel </title>
<style>
  body { font-family: Arial, sans-serif; background: #0f1724; color: #fff; margin: 0; padding: 0; }
  .wrap { max-width: 1100px; margin: 20px auto; padding: 16px; }
  .card { background:#0b1220; border-radius:10px; padding:14px; box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
  h1,h2{margin:6px 0 12px 0}
  label{display:block;margin-top:8px;color:#cbd5e1}
  input[type=password], select, button, textarea { width: 100%; padding: 10px; margin: 8px 0; border-radius: 6px; border: none; box-sizing: border-box; font-size:14px; }
  button { background: #ffd24d; color: #0b1220; font-weight:700; cursor: pointer; }
  .hidden{display:none}
  #bracket-preview{margin-top:12px; background:#fff; color:#111; padding:10px; border-radius:8px; overflow:auto; max-height:60vh}
  .note{font-size:13px;color:#94a3b8;margin-top:8px}
  /* winner highlight for staff preview (does not change original classes) */
  .player.winner{outline:3px solid #16a34a; box-shadow:0 6px 18px rgba(16,185,129,0.12);}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>BLACKSPIRE NATION STAFF PANEL</h1>
    <div id="login-box">
      <label for="password">Staff Password</label>
      <input id="password" type="password" placeholder="Enter password (case-sensitive)" />
      <button id="loginBtn">Login</button>
      <div class="note">Passwords auto-select Town Hall. Use your assigned password.</div>
    </div>

    <div id="panel" class="hidden" aria-hidden="true">
      <h2 id="th-title"></h2>
      <label for="stage">Stage</label>
      <select id="stage">
        <option value="1">Stage 1</option>
        <option value="2">Stage 2</option>
        <option value="3">Stage 3</option>
      </select>

      <div class="note">Tap a player to mark them as winner. Only one winner is allowed per match.</div>

      <div id="bracket-preview" aria-live="polite">Bracket will appear here.</div>

      <label for="exportArea">Exact bracket snippet (copy/paste this into main site)</label>
      <textarea id="exportArea" readonly style="min-height:120px;font-family:monospace;"></textarea>

      <button id="copyBtn" disabled>Copy Bracket HTML</button>
      <div class="note" id="copyNote">If automatic copy is blocked by the browser, the HTML will appear above â€” press Ctrl/Cmd+C to copy.</div>
    </div>
  </div>
</div>

<script>
/* passwords mapping */
const PASSWORDS = {
  "BLAZE IS POWERFUL 13": "TH13",
  "SCOOPY IS CRAZY 15": "TH15",
  "BOLT IS BEST 17": "TH17"
};

/* Embedded bracket files as base64 to avoid quoting issues; decoded at runtime */
const EMBED_B64 = {
  "TH13_stage1":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiLz4KICA8dGl0bGU+VEgxMyBCcmFja2V0IC0gQlNOIEN1cCBTMjwvdGl0bGU+CiAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICA8c3R5bGU+CiAgICAqIHsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KCiAgICBib2R5IHsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiAwOwogICAgICBiYWNrZ3JvdW5kOiAjZjdmOWZjOwogICAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgICAgIGNvbG9yOiAjMzMzOwogICAgfQoKICAgIGgxIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogIzIyMjsKICAgICAgZm9udC1zaXplOiAyLjVyZW07CiAgICAgIHBhZGRpbmc6IDMwcHggMTBweCAxMHB4OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgIC5icmFja2V0IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgZ2FwOiAyNHB4OwogICAgICBwYWRkaW5nOiAzMHB4IDIwcHg7CiAgICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgICBtYXJnaW46IGF1dG87CiAgICB9CgogICAgLm1hdGNoIHsKICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMDYpOwogICAgICBwYWRkaW5nOiAyMHB4OwogICAgICB3aWR0aDogMzAwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0OwogICAgfQoKICAgIC5tYXRjaDpob3ZlciB7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgfQoKICAgIC5wbGF5ZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBwYWRkaW5nOiAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dDsKICAgIH0KCiAgICAucGxheWVyIHNtYWxsIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIG1hcmdpbi10b3A6IDRweDsKICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICBjb2xvcjogIzc3NzsKICAgIH0KCiAgICAudnMgewogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgIGNvbG9yOiAjNDQ0OwogICAgfQoKICAgIC53aW5uZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmN2U5ICFpbXBvcnRhbnQ7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNmU1YzM7CiAgICAgIGNvbG9yOiAjMWI1ZTIwOwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgIC5nb2xkLWJ1dHRvbiB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGJhY2tncm91bmQtY29sb3I6ICNkNGFmMzc7CiAgY29sb3I6IHdoaXRlOwogIHBhZGRpbmc6IDEycHggMjRweDsKICBmb250LXNpemU6IDE2cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zczsKfQoKLmdvbGQtYnV0dG9uOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjg4NjBiOwp9CiAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KCiAgPGgxPlRIMTMgU1RBR0UgMSAtIFNUQUZGIFBBTkVMPC9oMT4KICAKIAoKCiAgPGRpdiBjbGFzcz0iYnJhY2tldCI+CiAgICA8IS0tIE1hdGNoIDEgIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPktJTkcgS0FMWUFOIDxicj48c21hbGw+QG1yX2JsYXplZTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkFjYW1hcm88YnI+PHNtYWxsPkBXZWFrZW5lZGxpbWUzMzk8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPklERUFMIEhBREVTICEhITxicj48c21hbGw+QGFxdWFfMTc8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5DYXB0IHJpcCBodW50ZXI8YnI+PHNtYWxsPkBPbnl4XzAxMjwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDMgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SU1NT1JUQUzinaTvuI9HT0xVPGJyPjxzbWFsbD5AVmluYW1yYTAxPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QUxFWEFOREVSPGJyPjxzbWFsbD5AYWtzMjAxNTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDQgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+WmVuIFlpbiA8YnI+PHNtYWxsPkAubm9fbm8uMTE8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5SdXNoZWRDdWJ1IDxicj48c21hbGw+QGNlYnUuenI8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA1IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlphcHN0ZXIgPGJyPjxzbWFsbD5AUnVzdHlrbm90czI0NjA8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5TbG90aHYxNSA8YnI+PHNtYWxsPkBTbG90aDMxNjY8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA2IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkphc29uIDxicj48c21hbGw+QGtfZGFfYWthbGk8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj7irZBCSVNIIDAwN+KtkCA8YnI+PHNtYWxsPkBiaXNod2FydXA3Mzc3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggNyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5ULkRoZWVyYWogUmVkZHkgPGJyPjxzbWFsbD5AZGhlZXJhanJkZDgzPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+UmFkaGEmdmlwdWwgPGJyPjxzbWFsbD5AUGl5dXNoc2hhcm1hMjY2MTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDggLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+RXlhbmcgS2FrdW5nTXXCriA8YnI+PHNtYWxsPkB0cmRyZXZvPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SFVOVEVSIDxicj48c21hbGw+QG1rX3Rvcm5hZG88L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA5IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkRlYWRseSBkZWFkcG9vbCA8YnI+PHNtYWxsPkB0b21hbjA4OTU8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5TaGFiYmlyIEFobWVkICA8YnI+PHNtYWxsPkBTaGFiYmlyIDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDEwIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlJpZmF0IDxicj48c21hbGw+QHJhZmk5NTQ0PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+WWlzaGEg4pyo4p2k77iPIDxicj48c21hbGw+QEtpbmcwNDcyODwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDExIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkZvcnplbkZyb3N0cyA8YnI+PHNtYWxsPkBpdHpmYWxjYzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlphaWQ6KSA8YnI+PHNtYWxsPkBzYW1ib3kzMjE8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxMiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5PdmVyZmxvdyA8YnI+PHNtYWxsPkBzZWFzdW42NDg5PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TWF2ZXJpY2ttYXl1ciA8YnI+PHNtYWxsPkBpY29uaWNiYWF6aWdhcjwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDEzIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkFtYWRvIFRILjEzIDxicj48c21hbGw+QGFtYWRvamNjPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+S2luZyBvZiBjb2MgPGJyPjxzbWFsbD5AU2hpdmFuc2g2PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTQgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QUXCpVpBREtJRUwgPGJyPjxzbWFsbD5AemFka2llbDg5MzM8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5TUklTVEninaTvuI8gPGJyPjxzbWFsbD5ALnBpa2FjaHVnYW1pbmc8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxNSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5LSVJBIDxicj48c21hbGw+QHBhaW5fa2FrZXM8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5EYXZpZTIwMDAgIDxicj48c21hbGw+QERhdmllMzAwMC48L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxNiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj7Cv+KLhkFtSGlzQWRkaWXimYDvuI8/IDxicj48c21hbGw+QG14eHRpY3hhbmU8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXJNWVRIISEgPGJyPjxzbWFsbD5Aa2FhYWtlZXJ1PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTcgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TWF4aW11cyBOb2N0aXMgPGJyPjxzbWFsbD5AbWF4aW1pbGlhbmdyb2V0c2NoPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+S2F2eWFraW5nMTExIDxicj48c21hbGw+QGtldmFscGF0ZWwwMjQwPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTggLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+RWxlbmEgPGJyPjxzbWFsbD5ARWxlbmFzMDA3PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QSBrYW1yYW4gPGJyPjxzbWFsbD5Aa2FtcmFuMDI1ODE8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxOSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5WaWxsYWluIDxicj48c21hbGw+QHN5ZWRLYWlmMV83NTM1NTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkZBUkRJTiA8YnI+PHNtYWxsPkBhcmF2MDQxMTQ8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyMCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5UVVNIQVIgIDxicj48c21hbGw+QGRha3Noa3VzaDwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkhhc2hhbSAyIDxicj48c21hbGw+QFRob3JmaW5uXzAxIDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIxIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkFSVEhVUiBNT1JHQU4gIDxicj48c21hbGw+QGFydGh1cl9tb3JnYW43Xzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPklua3JlZGlibGUgIDxicj48c21hbGw+QEFuYXJjaGlzdCA8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyMiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5WQiBWQVRTQUwgPGJyPjxzbWFsbD5AXy5hY2UuXzA1MDg8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5zdWJoYWRlZXAyIDxicj48c21hbGw+QHN1YmhhZGVlcF9taXRyYTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIzIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPldvbGYg4oCiIHBsYXlzIDxicj48c21hbGw+QEBkYXJrc2hhZG93X21vbmFyY2g8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5pdHMgZGVlcCA8YnI+PHNtYWxsPkBkYWtzaDU3MTQ8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyNCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj7mnY7npZbpmLMgPGJyPjxzbWFsbD5AZWFnbGVfcnl1azwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlplcm9UV08gPGJyPjxzbWFsbD5Ac2FuZGVzaF8zMTA4XzEwNzUxPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjUgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+RklMIGNlbnR5eXkgIDxicj48c21hbGw+QGNlbnR5eXkzMDwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPk1yIGxha2hlcmEgPGJyPjxzbWFsbD5ARGFya25vdmEwNzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDI2IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPnN1cHJlbWVnb2Q8YnI+PHNtYWxsPkBzdXByZW1lZ29kNjY2PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U0hEVyBJQ1paWSEhISA8YnI+PHNtYWxsPkBhbHBoYWV4ZTAxMjFfNjMxODU8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyNyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5XQVJMT1JEMjcgPGJyPjxzbWFsbD5Aam95ZGlwMjcwPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QWVzdGV0aWNfZ2FtZXIgPGJyPjxzbWFsbD5AdGh1Zy54MjU8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyOCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BcnlhbiBSYWogPGJyPjxzbWFsbD5Ac3dheWFtc2FodV8wNzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlJQIDxicj48c21hbGw+QHJwXzA3Nzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICAKCgogICAKICA8L2Rpdj4KPHNjcmlwdD4KICBmdW5jdGlvbiBzZWFyY2hQbGF5ZXIoKSB7CiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgaWYgKCFpbnB1dCkgcmV0dXJuOwoKICAgIGNvbnN0IG1hdGNoZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubWF0Y2giKTsKICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PiB7CiAgICAgIGNvbnN0IHBsYXllcnMgPSBtYXRjaC5xdWVyeVNlbGVjdG9yQWxsKCIucGxheWVyIik7CiAgICAgIHBsYXllcnMuZm9yRWFjaChwbGF5ZXJEaXYgPT4gewogICAgICAgIC8vIEdldCBmdWxsIHRleHQgY29udGVudCAoaW5jbHVkZXMgbmFtZSBhbmQgQHVzZXJuYW1lKQogICAgICAgIGNvbnN0IHBsYXllclRleHQgPSBwbGF5ZXJEaXYudGV4dENvbnRlbnQucmVwbGFjZSgvXHMrL2csICIgIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKHBsYXllclRleHQuaW5jbHVkZXMoaW5wdXQpKSB7CiAgICAgICAgICBtYXRjaC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAic21vb3RoIiwgYmxvY2s6ICJjZW50ZXIiIH0pOwogICAgICAgICAgbWF0Y2guc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSI7CiAgICAgICAgICBtYXRjaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2ZmZjFhOCI7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbWF0Y2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaWYgKCFmb3VuZCkgewogICAgICBhbGVydCgiTm8gbWF0Y2ggZm91bmQgd2l0aCB0aGF0IG5hbWUgb3IgdXNlcm5hbWUuIik7CiAgICB9CiAgfQo8L3NjcmlwdD4KCjwvYm9keT4KPC9odG1sPgo=",
  "TH13_stage2":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+Cjx0aXRsZT5TVEFHRSAyIEJTTjwvdGl0bGU+CjxzdHlsZT4KICBib2R5IHsKICAgIGJhY2tncm91bmQ6ICMxMjEyMTI7CiAgICBjb2xvcjogI2VlZTsKICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgfQogIGgxIHsKICAgIGNvbG9yOiAjZmZjYzAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9CgogIC5icmFja2V0LXdyYXBwZXIgewogICAgbWF4LXdpZHRoOiA3MDBweDsKICAgIG1hcmdpbjogYXV0bzsKICAgIHBhZGRpbmctYm90dG9tOiA2MHB4OwogIH0KCiAgLmdyb3VwIHsKICAgIGJhY2tncm91bmQ6ICMyMjI7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZjYzAwOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogIH0KICAuZ3JvdXAgaDIgewogICAgY29sb3I6ICNmZmNjMDA7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0KCiAgLyogcm91bmRzIGNvbnRhaW5lciBob2xkcyB0aGUgcm91bmRzIHNpZGUgYnkgc2lkZSAqLwogIC5yb3VuZHMtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBnYXA6IDIwcHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIElNUE9SVEFOVCBmb3IgU1ZHIGFic29sdXRlICovCiAgfQoKICAucm91bmQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEycHg7CiAgICBtaW4td2lkdGg6IDEyMHB4OwogIH0KICAucm91bmQgaDMgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICBjb2xvcjogI2ZmZDI0ZDsKICB9CgogIC5tYXRjaCB7CiAgICBiYWNrZ3JvdW5kOiAjMzMzOwogICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgIHBhZGRpbmc6IDhweCAxMHB4OwogICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBsaW5lLWhlaWdodDogMS4yOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgei1pbmRleDogMTA7CiAgfQoKICAubWF0Y2g6aG92ZXIgewogICAgYmFja2dyb3VuZDogI2ZmY2MwMDsKICAgIGNvbG9yOiAjMTIxMjEyOwogIH0KCiAgLnBsYXllciB7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgIG1hcmdpbjogMnB4IDA7CiAgfQoKICAvKiBTVkcgaW5zaWRlIHJvdW5kcyBjb250YWluZXIgKi8KICBzdmcuY29ubmVjdG9yLXN2ZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgei1pbmRleDogNTsKICB9CgogIC8qIC0tLSBNT0JJTEUgTEFZT1VUIC0tLSAqLwogIEBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogICAgLnJvdW5kcy1jb250YWluZXIgewogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBnYXA6IDMwcHg7CiAgICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OyAvKiBhbGxvdyBoZWlnaHQgZ3Jvd3RoICovCiAgICB9CiAgICAucm91bmQgewogICAgICBtaW4td2lkdGg6IDEwMCU7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogICAgc3ZnLmNvbm5lY3Rvci1zdmcgewogICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDA7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHotaW5kZXg6IDU7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgfQogICAgLyogbWFrZSBtYXRjaGVzIGJpZ2dlciBvbiBtb2JpbGUgZm9yIHJlYWRhYmlsaXR5ICovCiAgICAubWF0Y2ggewogICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgICAgYm9yZGVyLXdpZHRoOiAzcHg7CiAgICB9CiAgfQogIAo8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIMTMgU3RhZ2UgMiAtIFNUQUZGIFBBTkVMIDwvaDE+Cgo8ZGl2IGNsYXNzPSJicmFja2V0LXdyYXBwZXIiPgoKICA8IS0tIEdyb3VwIEEgLS0+CiAgPGRpdiBjbGFzcz0iZ3JvdXAiIGlkPSJncm91cC1hIj4KICAgIDxoMj5Hcm91cCBBPC9oMj4KICAgIDxkaXYgY2xhc3M9InJvdW5kcy1jb250YWluZXIiIGlkPSJyb3VuZHMtYSI+CiAgICAgIDxkaXYgY2xhc3M9InJvdW5kIiBkYXRhLXJvdW5kPSIxNi1hIj4KICAgICAgICA8aDM+Um91bmQgb2YgMTQ8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tMSI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tMiI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tMyI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTU8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tNCI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTc8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBODwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tNSI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTk8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTA8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtbTYiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tNyI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTEzPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTE0PC9kaXY+PC9kaXY+CiAgICAgICAKICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iOC1hIj4KICAgICAgICA8aDM+UXVhcnRlcmZpbmFsczwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLXExIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU0xPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1xMiI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtcTMiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTU8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU02PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLXE0Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU03PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjQtYSI+CiAgICAgICAgPGgzPlNlbWlmaW5hbHM8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1zMSI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1RMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtczIiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVE0PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjItYSI+CiAgICAgICAgPGgzPkZpbmFsIChHcm91cCBBKTwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLWYxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVMxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1TMjwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxzdmcgY2xhc3M9ImNvbm5lY3Rvci1zdmciIGlkPSJzdmctYSI+PC9zdmc+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBHcm91cCBCIC0tPgogIDxkaXYgY2xhc3M9Imdyb3VwIiBpZD0iZ3JvdXAtYiI+CiAgICA8aDI+R3JvdXAgQjwvaDI+CiAgICA8ZGl2IGNsYXNzPSJyb3VuZHMtY29udGFpbmVyIiBpZD0icm91bmRzLWIiPgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMTYtYiI+CiAgICAgICAgPGgzPlJvdW5kIG9mIDE2PC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTEiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTIiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIzPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTMiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI1PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTQiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI3PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjg8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTUiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI5PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjEwPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLW02Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTciPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxNDwvZGl2PjwvZGl2PgogICAgICAgIAogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InJvdW5kIiBkYXRhLXJvdW5kPSI4LWIiPgogICAgICAgIDxoMz5RdWFydGVyZmluYWxzPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItcTEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU0yPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXEyIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU0zPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1xMyI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItcTQiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTc8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iNC1iIj4KICAgICAgICA8aDM+U2VtaWZpbmFsczwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXMxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVExPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1zMiI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUTQ8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMi1iIj4KICAgICAgICA8aDM+RmluYWwgKEdyb3VwIEIpPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItZjEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUzE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVMyPC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPHN2ZyBjbGFzcz0iY29ubmVjdG9yLXN2ZyIgaWQ9InN2Zy1iIj48L3N2Zz4KICAgIDwvZGl2PgogIDwvZGl2PgoKPC9kaXY+Cgo8c2NyaXB0PgogIC8vIENyZWF0ZSBjdXJ2ZWQgU1ZHIHBhdGggYmV0d2VlbiB0d28gcmVjdHMgcmVsYXRpdmUgdG8gY29udGFpbmVyIChkZXNrdG9wKQogIGZ1bmN0aW9uIGNyZWF0ZUN1cnZlZFBhdGgoc3RhcnQsIGVuZCkgewogICAgY29uc3QgeG1sbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgInBhdGgiKTsKCiAgICBjb25zdCBzdGFydFggPSBzdGFydC5yaWdodDsKICAgIGNvbnN0IHN0YXJ0WSA9IHN0YXJ0LnRvcCArIHN0YXJ0LmhlaWdodCAvIDI7CgogICAgY29uc3QgZW5kWCA9IGVuZC5sZWZ0OwogICAgY29uc3QgZW5kWSA9IGVuZC50b3AgKyBlbmQuaGVpZ2h0IC8gMjsKCiAgICBjb25zdCBjdXJ2ZU9mZnNldFggPSAzMDsKCiAgICBjb25zdCBkID0gYAogICAgICBNJHtzdGFydFh9LCR7c3RhcnRZfQogICAgICBDJHtzdGFydFggKyBjdXJ2ZU9mZnNldFh9LCR7c3RhcnRZfQogICAgICAgJHtlbmRYIC0gY3VydmVPZmZzZXRYfSwke2VuZFl9CiAgICAgICAke2VuZFh9LCR7ZW5kWX0KICAgIGA7CgogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImQiLCBkKTsKICAgIHBhdGguc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiI2ZmY2MwMCIpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsIDMpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwiLCAibm9uZSIpOwoKICAgIHJldHVybiBwYXRoOwogIH0KCiAgLy8gQ3JlYXRlIHN0cmFpZ2h0IEwtc2hhcGVkIFNWRyBwYXRoIChtb2JpbGUpCiAgZnVuY3Rpb24gY3JlYXRlU3RyYWlnaHRQYXRoKHN0YXJ0LCBlbmQpIHsKICAgIGNvbnN0IHhtbG5zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsICJwYXRoIik7CgogICAgY29uc3Qgc3RhcnRYID0gc3RhcnQucmlnaHQ7CiAgICBjb25zdCBzdGFydFkgPSBzdGFydC50b3AgKyBzdGFydC5oZWlnaHQgLyAyOwoKICAgIGNvbnN0IGVuZFggPSBlbmQubGVmdDsKICAgIGNvbnN0IGVuZFkgPSBlbmQudG9wICsgZW5kLmhlaWdodCAvIDI7CgogICAgY29uc3QgbWlkWCA9IChzdGFydFggKyBlbmRYKSAvIDI7CgogICAgY29uc3QgZCA9IGAKICAgICAgTSR7c3RhcnRYfSwke3N0YXJ0WX0KICAgICAgTCR7bWlkWH0sJHtzdGFydFl9CiAgICAgIEwke21pZFh9LCR7ZW5kWX0KICAgICAgTCR7ZW5kWH0sJHtlbmRZfQogICAgYDsKCiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZCIsIGQpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsICIjZmZjYzAwIik7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgMyk7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsICJub25lIik7CgogICAgcmV0dXJuIHBhdGg7CiAgfQoKICBmdW5jdGlvbiBnZXRSZWN0KGVsZW0sIGNvbnRhaW5lcikgewogICAgY29uc3QgZWxlbVJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICByZXR1cm4gewogICAgICBsZWZ0OiBlbGVtUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0LAogICAgICByaWdodDogZWxlbVJlY3QucmlnaHQgLSBjb250YWluZXJSZWN0LmxlZnQsCiAgICAgIHRvcDogZWxlbVJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIGJvdHRvbTogZWxlbVJlY3QuYm90dG9tIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIHdpZHRoOiBlbGVtUmVjdC53aWR0aCwKICAgICAgaGVpZ2h0OiBlbGVtUmVjdC5oZWlnaHQsCiAgICB9OwogIH0KCiAgLy8gRHJhdyBjb25uZWN0aW9ucyBpbnNpZGUgZWFjaCBncm91cAogIGZ1bmN0aW9uIGRyYXdHcm91cENvbm5lY3Rpb25zKGdyb3VwSWQpIHsKICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ3JvdXBJZCk7CiAgICBjb25zdCByb3VuZHNDb250YWluZXIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCIucm91bmRzLWNvbnRhaW5lciIpOwogICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CiAgICBzdmcuaW5uZXJIVE1MID0gIiI7CgogICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3MjA7CiAgICBjb25zdCBwYXRoQ3JlYXRvciA9IGlzTW9iaWxlID8gY3JlYXRlU3RyYWlnaHRQYXRoIDogY3JlYXRlQ3VydmVkUGF0aDsKCiAgICAvLyBSb3VuZCBvZiAxNiAoOCBtYXRjaGVzKSDihpIgUXVhcnRlcmZpbmFscyAoNCBtYXRjaGVzKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gODsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1tJHtpfWApOwogICAgICBjb25zdCBuZXh0SW5kZXggPSBNYXRoLmNlaWwoaSAvIDIpOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke25leHRJbmRleH1gKTsKICAgICAgaWYgKHN0YXJ0TWF0Y2ggJiYgZW5kTWF0Y2gpIHsKICAgICAgICBjb25zdCBzdGFydCA9IGdldFJlY3Qoc3RhcnRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBjb25zdCBlbmQgPSBnZXRSZWN0KGVuZE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoQ3JlYXRvcihzdGFydCwgZW5kKSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBRdWFydGVyZmluYWxzICg0IG1hdGNoZXMpIOKGkiBTZW1pZmluYWxzICgyIG1hdGNoZXMpCiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgY29uc3Qgc3RhcnRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke2l9YCk7CiAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGguY2VpbChpIC8gMik7CiAgICAgIGNvbnN0IGVuZE1hdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7Z3JvdXBJZC5jaGFyQXQoZ3JvdXBJZC5sZW5ndGggLSAxKX0tcyR7bmV4dEluZGV4fWApOwogICAgICBpZiAoc3RhcnRNYXRjaCAmJiBlbmRNYXRjaCkgewogICAgICAgIGNvbnN0IHN0YXJ0ID0gZ2V0UmVjdChzdGFydE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIGNvbnN0IGVuZCA9IGdldFJlY3QoZW5kTWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGhDcmVhdG9yKHN0YXJ0LCBlbmQpKTsKICAgICAgfQogICAgfQoKICAgIC8vIFNlbWlmaW5hbHMgKDIgbWF0Y2hlcykg4oaSIEZpbmFsICgxIG1hdGNoKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1zJHtpfWApOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LWYxYCk7CiAgICAgIGlmIChzdGFydE1hdGNoICYmIGVuZE1hdGNoKSB7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRSZWN0KHN0YXJ0TWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgY29uc3QgZW5kID0gZ2V0UmVjdChlbmRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aENyZWF0b3Ioc3RhcnQsIGVuZCkpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWRyYXdBbGwoKSB7CiAgICAvLyBBZGp1c3QgU1ZHIGhlaWdodCBkeW5hbWljYWxseSB0byBjb250YWluZXIgaGVpZ2h0IGZvciBtb2JpbGUgdmVydGljYWwgc3RhY2tpbmcKICAgIFsiZ3JvdXAtYSIsICJncm91cC1iIl0uZm9yRWFjaChncm91cElkID0+IHsKICAgICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChncm91cElkKTsKICAgICAgY29uc3Qgcm91bmRzQ29udGFpbmVyID0gZ3JvdXAucXVlcnlTZWxlY3RvcigiLnJvdW5kcy1jb250YWluZXIiKTsKICAgICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CgogICAgICAvLyBTZXQgc3ZnIGhlaWdodCBhbmQgd2lkdGggdG8gcm91bmRzIGNvbnRhaW5lciBzaXplCiAgICAgIGNvbnN0IHJjUmVjdCA9IHJvdW5kc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgc3ZnLnN0eWxlLndpZHRoID0gcmNSZWN0LndpZHRoICsgInB4IjsKICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IHJjUmVjdC5oZWlnaHQgKyAicHgiOwogICAgfSk7CgogICAgZHJhd0dyb3VwQ29ubmVjdGlvbnMoImdyb3VwLWEiKTsKICAgIGRyYXdHcm91cENvbm5lY3Rpb25zKCJncm91cC1iIik7CiAgfQoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlZHJhd0FsbCk7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlZHJhd0FsbCk7Cjwvc2NyaXB0PgoKPC9ib2R5Pgo8L2h0bWw+Cg==",
  "TH13_stage3":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIiA+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KICA8dGl0bGU+U1RBR0UgMyBCU048L3RpdGxlPgogIDxzdHlsZT4KICAgIGJvZHkgewogICAgICBiYWNrZ3JvdW5kOiAjMTIxMjEyOwogICAgICBjb2xvcjogI2VlZTsKICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwogICAgICBtYXJnaW46IDIwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGdhcDogNDBweDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgcGFkZGluZy1ib3R0b206IDQwcHg7CiAgICB9CiAgICBoMSB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgY29sb3I6ICNmZmNjMDA7CiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7CiAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCAjZmZjYzAwY2M7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogICAgLmJyYWNrZXQtYm94IHsKICAgICAgYmFja2dyb3VuZDogIzFjMWMxYzsKICAgICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMTRweDsKICAgICAgcGFkZGluZzogMjBweCAzMHB4OwogICAgICB3aWR0aDogMzQwcHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4ICNmZmNjMDBhYSBpbnNldDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgfQogICAgLmJyYWNrZXQtYm94IGgyIHsKICAgICAgbWFyZ2luOiAwIDAgMTVweCAwOwogICAgICBjb2xvcjogI2ZmZDI0ZDsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB0ZXh0LXNoYWRvdzogMCAwIDhweCAjZmZkMjRkOTk7CiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07CiAgICB9CiAgICAubWF0Y2ggewogICAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZjYzAwOwogICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICBwYWRkaW5nOiAxNHB4IDEycHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIG1hcmdpbjogMTJweCAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCA4cHggI2ZmY2MwMGNjLAogICAgICAgIGluc2V0IDAgMCA3cHggI2ZmY2MwMGRkOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLCBjb2xvciAwLjNzIGVhc2U7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBnYXA6IDEycHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgY29sb3I6ICNmZmQyNGQ7CiAgICB9CiAgICAubWF0Y2g6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiAjZmZjYzAwOwogICAgICBjb2xvcjogIzEyMTIxMjsKICAgICAgYm94LXNoYWRvdzoKICAgICAgICAwIDAgMTRweCAjZmZkNzAwZWUsCiAgICAgICAgaW5zZXQgMCAwIDEwcHggI2ZmZDcwMGZmOwogICAgfQogICAgLnBsYXllciB7CiAgICAgIGJhY2tncm91bmQ6ICMzMzM7CiAgICAgIHBhZGRpbmc6IDZweCAxNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIHdpZHRoOiAxMTBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB1c2VyLXNlbGVjdDogdGV4dDsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggIzAwMGE7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAucGxheWVyLndpbm5lciB7CiAgICAgIGJhY2tncm91bmQ6ICNmZmQ3MDA7CiAgICAgIGNvbG9yOiAjMTIxMjEyOwogICAgICBmb250LXdlaWdodDogODAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCAxMnB4ICNmZmQ3MDBjYywKICAgICAgICBpbnNldCAwIDAgMTRweCAjZmZkNzAwZGQ7CiAgICB9CiAgICAudnMgewogICAgICBjb2xvcjogI2ZmY2MwMDsKICAgICAgZm9udC13ZWlnaHQ6IDkwMDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIH0KICAgIC8qIEFycm93IGljb25zIHRvIHNob3cgcHJvZ3Jlc3Npb24gaW5zaWRlIGJyYWNrZXRzICovCiAgICAuYXJyb3ctZG93biB7CiAgICAgIHdpZHRoOiAyNHB4OwogICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgIG1hcmdpbjogNXB4IGF1dG8gMTVweDsKICAgICAgZmlsbDogI2ZmY2MwMDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CgogICAgLyogTU9CSUxFIFJFU1BPTlNJVkUgU1RZTEVTICovCiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAgICAgYm9keSB7CiAgICAgICAgbWFyZ2luOiAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCB7CiAgICAgICAgd2lkdGg6IDkwdnc7CiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4ICNmZmNjMDA5OSBpbnNldDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCBoMiB7CiAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wNGVtOwogICAgICB9CiAgICAgIC5tYXRjaCB7CiAgICAgICAgcGFkZGluZzogOHB4IDhweDsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDZweCAjZmZjYzAwOTksCiAgICAgICAgICBpbnNldCAwIDAgNnB4ICNmZmNjMDBiYjsKICAgICAgfQogICAgICAucGxheWVyIHsKICAgICAgICB3aWR0aDogOTBweDsKICAgICAgICBwYWRkaW5nOiA0cHggOHB4OwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgfQogICAgICAucGxheWVyLndpbm5lciB7CiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDhweCAjZmZkNzAwYmIsCiAgICAgICAgICBpbnNldCAwIDAgMTBweCAjZmZkNzAwY2M7CiAgICAgIH0KICAgICAgLnZzIHsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIH0KICAgICAgLmFycm93LWRvd24gewogICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICBtYXJnaW46IDRweCBhdXRvIDEycHg7CiAgICAgIH0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIIDEzIEZpbmFsIEJyYWNrZXQgLSBTVEFGRiBQQU5FTCA8L2gxPgoKPCEtLSAxLiBGaXJzdCBTZXQgLS0+CjxkaXYgY2xhc3M9ImJyYWNrZXQtYm94IiBpZD0iZmlyc3Qtc2V0Ij4KICA8aDI+Rmlyc3QgU2V0PC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImZzLW0xIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciAiPlMxPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+UzI8L2Rpdj4KICA8L2Rpdj4KICA8c3ZnIGNsYXNzPSJhcnJvdy1kb3duIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiAxNmwtNi02aDEyeiIvPjwvc3ZnPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iZnMtbTIiPgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5TMzwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlM0PC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSAyLiBXaW5uZXJzIEJyYWNrZXQgKFF1YWxpZmllciAxIFNldCkgLS0+CjxkaXYgY2xhc3M9ImJyYWNrZXQtYm94IiBpZD0id2lubmVycy1icmFja2V0Ij4KICA8aDI+UXVhbGlmaWVyIDEgU2V0IChXaW5uZXJzIEJyYWNrZXQpPC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9IndxMS1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBGUzE8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgRlMyPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSAzLiBMb3NlcnMgQnJhY2tldCAoRWxpbWluYXRpb24gMSBTZXQpIC0tPgo8ZGl2IGNsYXNzPSJicmFja2V0LWJveCIgaWQ9Imxvc2Vycy1icmFja2V0Ij4KICA8aDI+RWxpbWluYXRpb24gMSBTZXQgKExvc2VycyBCcmFja2V0KTwvaDI+CiAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJsZTEtbTEiPgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5Mb3NlciBGUzE8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5Mb3NlciBGUzI8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIDQuIFF1YWxpZmllciAyIFNldCAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJxdWFsaWZpZXItMi1zZXQiPgogIDxoMj5RdWFsaWZpZXIgMiBTZXQ8L2gyPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0icTItbTEiPgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5Mb3NlciBRMTwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIgIj5XaW5uZXIgRTE8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIDUuIEdyYW5kIEZpbmFsIC0tPgo8ZGl2IGNsYXNzPSJicmFja2V0LWJveCIgaWQ9ImdyYW5kLWZpbmFsIj4KICA8aDI+R3JhbmQgRmluYWw8L2gyPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iZ2YtbTEiPgogICAgPGRpdiBjbGFzcz0icGxheWVyICI+V2lubmVyIFExPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIFEyPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cg==",
  "TH15_stage1":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiLz4KICA8dGl0bGU+VEgxNSBCcmFja2V0IC0gQlNOIEN1cCBTMjwvdGl0bGU+CiAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICA8c3R5bGU+CiAgICAqIHsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KCiAgICBib2R5IHsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiAwOwogICAgICBiYWNrZ3JvdW5kOiAjZjdmOWZjOwogICAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgICAgIGNvbG9yOiAjMzMzOwogICAgfQoKICAgIGgxIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogIzIyMjsKICAgICAgZm9udC1zaXplOiAyLjVyZW07CiAgICAgIHBhZGRpbmc6IDMwcHggMTBweCAxMHB4OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgIC5icmFja2V0IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgZ2FwOiAyNHB4OwogICAgICBwYWRkaW5nOiAzMHB4IDIwcHg7CiAgICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgICBtYXJnaW46IGF1dG87CiAgICB9CgogICAgLm1hdGNoIHsKICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMDYpOwogICAgICBwYWRkaW5nOiAyMHB4OwogICAgICB3aWR0aDogMzAwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0OwogICAgfQoKICAgIC5tYXRjaDpob3ZlciB7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgfQoKICAgIC5wbGF5ZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBwYWRkaW5nOiAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dDsKICAgIH0KCiAgICAucGxheWVyIHNtYWxsIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIG1hcmdpbi10b3A6IDRweDsKICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICBjb2xvcjogIzc3NzsKICAgIH0KCiAgICAudnMgewogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgIGNvbG9yOiAjNDQ0OwogICAgfQoKICAgIC53aW5uZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmN2U5ICFpbXBvcnRhbnQ7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNmU1YzM7CiAgICAgIGNvbG9yOiAjMWI1ZTIwOwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgIC5nb2xkLWJ1dHRvbiB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGJhY2tncm91bmQtY29sb3I6ICNkNGFmMzc7CiAgY29sb3I6IHdoaXRlOwogIHBhZGRpbmc6IDEycHggMjRweDsKICBmb250LXNpemU6IDE2cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zczsKfQoKLmdvbGQtYnV0dG9uOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjg4NjBiOwp9CgoKICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKICA8aDE+VEgxNSBTVEFHRSAxIC0gU1RBRkYgUEFORUw8L2gxPgogIAoKCgogIDxkaXYgY2xhc3M9ImJyYWNrZXQiPgogICAgPCEtLSBNYXRjaCAxIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkRyYWdvbjU0aTxicj48c21hbGw+QERyYWdvbjU0aTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlZpY2t5bWF4Mjxicj48c21hbGw+QHZpY2t5bWF4NDQxNDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+VmliaGFuc2g8YnI+PHNtYWxsPkBkYWtzaDYzMzA8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5Kb3JkYW48YnI+PHNtYWxsPkBqLnJkeG5uPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj4jUm95YWwgUFJJTkNFIzxicj48c21hbGw+QHByaW5jZTE5MDI8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5TcGFydGFuMDc8YnI+PHNtYWxsPkBzYW5kaXBhd29uPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggNCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5UaGlhY2MgPGJyPjxzbWFsbD5AeHZpejk5OTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPklNTU9SVEFM4p2k77iPVi5BIDxicj48c21hbGw+QHZpbmFtcmEwMTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDUgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+S0lMTEVS54i2QkVBU1QgPGJyPjxzbWFsbD5AIGRpc3Jlc3BlY3R0dDwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPmhhc2hhbSA8YnI+PHNtYWxsPkBUaG9yZmlubi4wMTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDYgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Tm9za2lsbC1mYWl6byDinYwgPGJyPjxzbWFsbD5AU2lyX2dlbml4PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U2FsYXVkZGluIDxicj48c21hbGw+QGtpbmdfa2hhbjIwMDA8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA3IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkFtYWRvIDxicj48c21hbGw+QEBhbWFkb2pjYzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPklORkVSTk8gIDxicj48c21hbGw+QG1rX3Rvcm5hZG88L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA4IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPuKZp0RBUktFU1TimacgPGJyPjxzbWFsbD5ARHJhY3VsYS4wNzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlNoYWJiaXIgPGJyPjxzbWFsbD5AU2hhYmJpcjAwOTk3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggOSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5DT05TVEFOVCBQTEFZRVIgPGJyPjxzbWFsbD5AdGVqYXMwMDk4PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U2hlbnJvbiA8YnI+PHNtYWxsPkByYWh1bF8xNDA5MDM8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxMCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5nbGFkaWF0b3IgIDxicj48c21hbGw+QHBpbmdzX21hdHRlcjwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkl0ekZhbGNjIDxicj48c21hbGw+QGl0emZhbGNjPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTEgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Qkwg4oCiIENydXggPGJyPjxzbWFsbD5Ac251c2thci48L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5CYWF6aWdhciAgPGJyPjxzbWFsbD5ASWNvbmljYmFhemlnYXIgPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTIgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SW5kcmF0aGVyZWFsICA8YnI+PHNtYWxsPkBEZWJheWFuIFJveTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlRIZSBiZWFzdCAgPGJyPjxzbWFsbD5AZGFya25vdmEwNzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDEzIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPk1BWCA8YnI+PHNtYWxsPkBtYXhfMzEwNS48L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5UYXJ1biA8YnI+PHNtYWxsPkBzdXJ0dXJmb3JldmVyPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTQgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+VEFMSEEgQVdFU09NRSA8YnI+PHNtYWxsPkB0aGFsaGFhd2Vzb21lPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TmVidWxhIDxicj48c21hbGw+QGRlYm1hbHlhX25hc2thcjwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDE1IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlVyaWVsIDxicj48c21hbGw+QEF6cmFlbDA2NjYwMjwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkJE4pqhQ09ERVggPGJyPjxzbWFsbD5Ac2tzb255MDA3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTYgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U1MgR09VUkFWIOKalO+4jyA8YnI+PHNtYWxsPkBnb3VyYXZrdW1hcjc1NTE8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5QYXRtYW4yMDEzIDxicj48c21hbGw+QHBhdG1hbjIwMTM8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxNyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5MTeS6l0RhdmllMzAwMCAgPGJyPjxzbWFsbD5ARGF2aWUzMDAwLjwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPmtha2EgPGJyPjxzbWFsbD5Ac2hpdmFzaGl2YTYyNDA8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxOCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5LYWlmIDxicj48c21hbGw+QFN5ZWRrYWlmMV83NTM1NTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkFyeW8gKDIpIDxicj48c21hbGw+QGFkd2FmYWtocmk8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxOSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj4tVmluY2VudDItIDxicj48c21hbGw+QHZpbmNlbnQzMDE2PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+c2Nvb3B5Xzk3IDxicj48c21hbGw+QHNjb29weV85Nzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIwIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlByaW5jZSBEZXZpbCAgPGJyPjxzbWFsbD5AcHJpbmNlZGV2aWwwMTQzPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QXJheWFuIDxicj48c21hbGw+QGJpc2h3YXJ1cDczNzc8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyMSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5HRl5LRVZBTC4uLuKEoiA8YnI+PHNtYWxsPkBrZXZhbHBhdGVsMDI0MDwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPmJhY29uIDxicj48c21hbGw+QHdhcnJpb3JyLjwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIyIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlpBSElS4p2k77iPS0hBTiA8YnI+PHNtYWxsPkBaYWhpcl9raGFuPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+44CQIO+8qyTvvKPinqDvvKjvvKnvvK3vvKHvvK7vvLTvvKEg44CRIDxicj48c21hbGw+QGRIaW1hbnRhMDAxPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjMgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TMO4c1QgU8O4dUzihKIgPGJyPjxzbWFsbD5AZmFsbGluZm9yeW91XzMzMzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPk9UQUtVIDxicj48c21hbGw+QEBtaWdodC5vdmVyLm1ldGE8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyNCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5TdWJoYWRpcCAgPGJyPjxzbWFsbD5AU3ViaGFkaXAwOTM0XzI4NDQ0PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TmljayAgPGJyPjxzbWFsbD5AbmlrZXNoLjE0MyA8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyNSAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5hbmdlbCBwYXJhaXNvIDxicj48c21hbGw+QHJvc2hpMzc2Ny48L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj4qQUxXQVlTIFNUUk9ORyogPGJyPjxzbWFsbD5AZXh0cmVtbzY2Njc8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyNiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BQkMxMjMgPGJyPjxzbWFsbD5AZG9vemRiPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+cHJhbmF2IDxicj48c21hbGw+QHByYW5hdnA3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjcgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+4pqUUm9yb25vYV9ab3Jv4pigIDxicj48c21hbGw+QHJvcm9ub2F6b3JvOTkyMjY2PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+UmF2aSA8YnI+PHNtYWxsPkByYXZpNjY4Mzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDI4IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkxvcmQgUGVra2FuICA8YnI+PHNtYWxsPkBkdXR0YV9qeW90aXJtb3k8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5DYXJuZ2UyMSAgPGJyPjxzbWFsbD5AU3RhcnNjYWxpYnVyIDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDI5IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlRyYWdpY0Zvb3QgPGJyPjxzbWFsbD5AdHJhZ2ljZm9vdDwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlJhZ2UgTW9uc3RlciA8YnI+PHNtYWxsPkBhcndpbmRfa3Q8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAzMCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5NciAuIFZlcnR5IDxicj48c21hbGw+QHZlcnR5MDAwMDAwMDA8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5USEUgS2luZyA8YnI+PHNtYWxsPkBOb3QgbGVnZW5kPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMzEgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+4pqhIEFUT01JQ+KaoSAgPGJyPjxzbWFsbD5Aa2FyYW5qYWR1YXYuPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Q2FybmFnZSA8YnI+PHNtYWxsPkByZWFwZXI3NjY1PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMzIgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SURFQUwgUkVYICEhISA8YnI+PHNtYWxsPkBhcXVhXzE3Xzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkhlcm8gPGJyPjxzbWFsbD5AaGVyby42OTY5Ll84NTYxODwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgIAogIAogICAKICAgIAogIAoKCgogICAKICA8L2Rpdj4KPHNjcmlwdD4KICBmdW5jdGlvbiBzZWFyY2hQbGF5ZXIoKSB7CiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgaWYgKCFpbnB1dCkgcmV0dXJuOwoKICAgIGNvbnN0IG1hdGNoZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubWF0Y2giKTsKICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PiB7CiAgICAgIGNvbnN0IHBsYXllcnMgPSBtYXRjaC5xdWVyeVNlbGVjdG9yQWxsKCIucGxheWVyIik7CiAgICAgIHBsYXllcnMuZm9yRWFjaChwbGF5ZXJEaXYgPT4gewogICAgICAgIC8vIEdldCBmdWxsIHRleHQgY29udGVudCAoaW5jbHVkZXMgbmFtZSBhbmQgQHVzZXJuYW1lKQogICAgICAgIGNvbnN0IHBsYXllclRleHQgPSBwbGF5ZXJEaXYudGV4dENvbnRlbnQucmVwbGFjZSgvXHMrL2csICIgIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKHBsYXllclRleHQuaW5jbHVkZXMoaW5wdXQpKSB7CiAgICAgICAgICBtYXRjaC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAic21vb3RoIiwgYmxvY2s6ICJjZW50ZXIiIH0pOwogICAgICAgICAgbWF0Y2guc3R5bGUudHJhbnNpdGlvbiA9ICJiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSI7CiAgICAgICAgICBtYXRjaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2ZmZjFhOCI7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbWF0Y2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaWYgKCFmb3VuZCkgewogICAgICBhbGVydCgiTm8gbWF0Y2ggZm91bmQgd2l0aCB0aGF0IG5hbWUgb3IgdXNlcm5hbWUuIik7CiAgICB9CiAgfQo8L3NjcmlwdD4KCjwvYm9keT4KPC9odG1sPgo=",
  "TH15_stage2":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+Cjx0aXRsZT5TVEFHRSAyIEJTTjwvdGl0bGU+CjxzdHlsZT4KICBib2R5IHsKICAgIGJhY2tncm91bmQ6ICMxMjEyMTI7CiAgICBjb2xvcjogI2VlZTsKICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgfQogIGgxIHsKICAgIGNvbG9yOiAjZmZjYzAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9CgogIC5icmFja2V0LXdyYXBwZXIgewogICAgbWF4LXdpZHRoOiA3MDBweDsKICAgIG1hcmdpbjogYXV0bzsKICAgIHBhZGRpbmctYm90dG9tOiA2MHB4OwogIH0KCiAgLmdyb3VwIHsKICAgIGJhY2tncm91bmQ6ICMyMjI7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZjYzAwOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogIH0KICAuZ3JvdXAgaDIgewogICAgY29sb3I6ICNmZmNjMDA7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0KCiAgLyogcm91bmRzIGNvbnRhaW5lciBob2xkcyB0aGUgcm91bmRzIHNpZGUgYnkgc2lkZSAqLwogIC5yb3VuZHMtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBnYXA6IDIwcHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIElNUE9SVEFOVCBmb3IgU1ZHIGFic29sdXRlICovCiAgfQoKICAucm91bmQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEycHg7CiAgICBtaW4td2lkdGg6IDEyMHB4OwogIH0KICAucm91bmQgaDMgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICBjb2xvcjogI2ZmZDI0ZDsKICB9CgogIC5tYXRjaCB7CiAgICBiYWNrZ3JvdW5kOiAjMzMzOwogICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgIHBhZGRpbmc6IDhweCAxMHB4OwogICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBsaW5lLWhlaWdodDogMS4yOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgei1pbmRleDogMTA7CiAgfQoKICAubWF0Y2g6aG92ZXIgewogICAgYmFja2dyb3VuZDogI2ZmY2MwMDsKICAgIGNvbG9yOiAjMTIxMjEyOwogIH0KCiAgLnBsYXllciB7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgIG1hcmdpbjogMnB4IDA7CiAgfQoKICAvKiBTVkcgaW5zaWRlIHJvdW5kcyBjb250YWluZXIgKi8KICBzdmcuY29ubmVjdG9yLXN2ZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgei1pbmRleDogNTsKICB9CgogIC8qIC0tLSBNT0JJTEUgTEFZT1VUIC0tLSAqLwogIEBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogICAgLnJvdW5kcy1jb250YWluZXIgewogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBnYXA6IDMwcHg7CiAgICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OyAvKiBhbGxvdyBoZWlnaHQgZ3Jvd3RoICovCiAgICB9CiAgICAucm91bmQgewogICAgICBtaW4td2lkdGg6IDEwMCU7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogICAgc3ZnLmNvbm5lY3Rvci1zdmcgewogICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDA7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHotaW5kZXg6IDU7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgfQogICAgLyogbWFrZSBtYXRjaGVzIGJpZ2dlciBvbiBtb2JpbGUgZm9yIHJlYWRhYmlsaXR5ICovCiAgICAubWF0Y2ggewogICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgICAgYm9yZGVyLXdpZHRoOiAzcHg7CiAgICB9CiAgfQo8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIMTUgU3RhZ2UgMiAtIFNUQUZGIFBBTkVMPC9oMT4KCjxkaXYgY2xhc3M9ImJyYWNrZXQtd3JhcHBlciI+CgogIDwhLS0gR3JvdXAgQSAtLT4KICA8ZGl2IGNsYXNzPSJncm91cCIgaWQ9Imdyb3VwLWEiPgogICAgPGgyPkdyb3VwIEE8L2gyPgogICAgPGRpdiBjbGFzcz0icm91bmRzLWNvbnRhaW5lciIgaWQ9InJvdW5kcy1hIj4KICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjE2LWEiPgogICAgICAgIDxoMz5Sb3VuZCBvZiAxNjwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0xIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEEyPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0yIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE0PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0zIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE2PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW00Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE4PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW01Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBOTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExMDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tNiI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTExPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTEyPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW03Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtbTgiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExNjwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InJvdW5kIiBkYXRhLXJvdW5kPSI4LWEiPgogICAgICAgIDxoMz5RdWFydGVyZmluYWxzPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtcTEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU0yPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLXEyIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU0zPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1xMyI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtcTQiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTc8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU04PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjQtYSI+CiAgICAgICAgPGgzPlNlbWlmaW5hbHM8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1zMSI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1RMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtczIiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVE0PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjItYSI+CiAgICAgICAgPGgzPkZpbmFsIChHcm91cCBBKTwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLWYxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVMxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1TMjwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxzdmcgY2xhc3M9ImNvbm5lY3Rvci1zdmciIGlkPSJzdmctYSI+PC9zdmc+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBHcm91cCBCIC0tPgogIDxkaXYgY2xhc3M9Imdyb3VwIiBpZD0iZ3JvdXAtYiI+CiAgICA8aDI+R3JvdXAgQjwvaDI+CiAgICA8ZGl2IGNsYXNzPSJyb3VuZHMtY29udGFpbmVyIiBpZD0icm91bmRzLWIiPgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMTYtYiI+CiAgICAgICAgPGgzPlJvdW5kIG9mIDE2PC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTEiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTIiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIzPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTMiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI1PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTQiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI3PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjg8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTUiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI5PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjEwPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLW02Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTciPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1tOCI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjE1PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjE2PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjgtYiI+CiAgICAgICAgPGgzPlF1YXJ0ZXJmaW5hbHM8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1xMSI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItcTIiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU00PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXEzIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU01PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1xNCI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTg8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iNC1iIj4KICAgICAgICA8aDM+U2VtaWZpbmFsczwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXMxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVExPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1zMiI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUTQ8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMi1iIj4KICAgICAgICA8aDM+RmluYWwgKEdyb3VwIEIpPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItZjEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUzE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVMyPC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPHN2ZyBjbGFzcz0iY29ubmVjdG9yLXN2ZyIgaWQ9InN2Zy1iIj48L3N2Zz4KICAgIDwvZGl2PgogIDwvZGl2PgoKPC9kaXY+Cgo8c2NyaXB0PgogIC8vIENyZWF0ZSBjdXJ2ZWQgU1ZHIHBhdGggYmV0d2VlbiB0d28gcmVjdHMgcmVsYXRpdmUgdG8gY29udGFpbmVyIChkZXNrdG9wKQogIGZ1bmN0aW9uIGNyZWF0ZUN1cnZlZFBhdGgoc3RhcnQsIGVuZCkgewogICAgY29uc3QgeG1sbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgInBhdGgiKTsKCiAgICBjb25zdCBzdGFydFggPSBzdGFydC5yaWdodDsKICAgIGNvbnN0IHN0YXJ0WSA9IHN0YXJ0LnRvcCArIHN0YXJ0LmhlaWdodCAvIDI7CgogICAgY29uc3QgZW5kWCA9IGVuZC5sZWZ0OwogICAgY29uc3QgZW5kWSA9IGVuZC50b3AgKyBlbmQuaGVpZ2h0IC8gMjsKCiAgICBjb25zdCBjdXJ2ZU9mZnNldFggPSAzMDsKCiAgICBjb25zdCBkID0gYAogICAgICBNJHtzdGFydFh9LCR7c3RhcnRZfQogICAgICBDJHtzdGFydFggKyBjdXJ2ZU9mZnNldFh9LCR7c3RhcnRZfQogICAgICAgJHtlbmRYIC0gY3VydmVPZmZzZXRYfSwke2VuZFl9CiAgICAgICAke2VuZFh9LCR7ZW5kWX0KICAgIGA7CgogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImQiLCBkKTsKICAgIHBhdGguc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiI2ZmY2MwMCIpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsIDMpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwiLCAibm9uZSIpOwoKICAgIHJldHVybiBwYXRoOwogIH0KCiAgLy8gQ3JlYXRlIHN0cmFpZ2h0IEwtc2hhcGVkIFNWRyBwYXRoIChtb2JpbGUpCiAgZnVuY3Rpb24gY3JlYXRlU3RyYWlnaHRQYXRoKHN0YXJ0LCBlbmQpIHsKICAgIGNvbnN0IHhtbG5zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsICJwYXRoIik7CgogICAgY29uc3Qgc3RhcnRYID0gc3RhcnQucmlnaHQ7CiAgICBjb25zdCBzdGFydFkgPSBzdGFydC50b3AgKyBzdGFydC5oZWlnaHQgLyAyOwoKICAgIGNvbnN0IGVuZFggPSBlbmQubGVmdDsKICAgIGNvbnN0IGVuZFkgPSBlbmQudG9wICsgZW5kLmhlaWdodCAvIDI7CgogICAgY29uc3QgbWlkWCA9IChzdGFydFggKyBlbmRYKSAvIDI7CgogICAgY29uc3QgZCA9IGAKICAgICAgTSR7c3RhcnRYfSwke3N0YXJ0WX0KICAgICAgTCR7bWlkWH0sJHtzdGFydFl9CiAgICAgIEwke21pZFh9LCR7ZW5kWX0KICAgICAgTCR7ZW5kWH0sJHtlbmRZfQogICAgYDsKCiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZCIsIGQpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsICIjZmZjYzAwIik7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgMyk7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsICJub25lIik7CgogICAgcmV0dXJuIHBhdGg7CiAgfQoKICBmdW5jdGlvbiBnZXRSZWN0KGVsZW0sIGNvbnRhaW5lcikgewogICAgY29uc3QgZWxlbVJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICByZXR1cm4gewogICAgICBsZWZ0OiBlbGVtUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0LAogICAgICByaWdodDogZWxlbVJlY3QucmlnaHQgLSBjb250YWluZXJSZWN0LmxlZnQsCiAgICAgIHRvcDogZWxlbVJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIGJvdHRvbTogZWxlbVJlY3QuYm90dG9tIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIHdpZHRoOiBlbGVtUmVjdC53aWR0aCwKICAgICAgaGVpZ2h0OiBlbGVtUmVjdC5oZWlnaHQsCiAgICB9OwogIH0KCiAgLy8gRHJhdyBjb25uZWN0aW9ucyBpbnNpZGUgZWFjaCBncm91cAogIGZ1bmN0aW9uIGRyYXdHcm91cENvbm5lY3Rpb25zKGdyb3VwSWQpIHsKICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ3JvdXBJZCk7CiAgICBjb25zdCByb3VuZHNDb250YWluZXIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCIucm91bmRzLWNvbnRhaW5lciIpOwogICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CiAgICBzdmcuaW5uZXJIVE1MID0gIiI7CgogICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3MjA7CiAgICBjb25zdCBwYXRoQ3JlYXRvciA9IGlzTW9iaWxlID8gY3JlYXRlU3RyYWlnaHRQYXRoIDogY3JlYXRlQ3VydmVkUGF0aDsKCiAgICAvLyBSb3VuZCBvZiAxNiAoOCBtYXRjaGVzKSDihpIgUXVhcnRlcmZpbmFscyAoNCBtYXRjaGVzKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gODsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1tJHtpfWApOwogICAgICBjb25zdCBuZXh0SW5kZXggPSBNYXRoLmNlaWwoaSAvIDIpOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke25leHRJbmRleH1gKTsKICAgICAgaWYgKHN0YXJ0TWF0Y2ggJiYgZW5kTWF0Y2gpIHsKICAgICAgICBjb25zdCBzdGFydCA9IGdldFJlY3Qoc3RhcnRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBjb25zdCBlbmQgPSBnZXRSZWN0KGVuZE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoQ3JlYXRvcihzdGFydCwgZW5kKSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBRdWFydGVyZmluYWxzICg0IG1hdGNoZXMpIOKGkiBTZW1pZmluYWxzICgyIG1hdGNoZXMpCiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgY29uc3Qgc3RhcnRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke2l9YCk7CiAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGguY2VpbChpIC8gMik7CiAgICAgIGNvbnN0IGVuZE1hdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7Z3JvdXBJZC5jaGFyQXQoZ3JvdXBJZC5sZW5ndGggLSAxKX0tcyR7bmV4dEluZGV4fWApOwogICAgICBpZiAoc3RhcnRNYXRjaCAmJiBlbmRNYXRjaCkgewogICAgICAgIGNvbnN0IHN0YXJ0ID0gZ2V0UmVjdChzdGFydE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIGNvbnN0IGVuZCA9IGdldFJlY3QoZW5kTWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGhDcmVhdG9yKHN0YXJ0LCBlbmQpKTsKICAgICAgfQogICAgfQoKICAgIC8vIFNlbWlmaW5hbHMgKDIgbWF0Y2hlcykg4oaSIEZpbmFsICgxIG1hdGNoKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1zJHtpfWApOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LWYxYCk7CiAgICAgIGlmIChzdGFydE1hdGNoICYmIGVuZE1hdGNoKSB7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRSZWN0KHN0YXJ0TWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgY29uc3QgZW5kID0gZ2V0UmVjdChlbmRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aENyZWF0b3Ioc3RhcnQsIGVuZCkpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWRyYXdBbGwoKSB7CiAgICAvLyBBZGp1c3QgU1ZHIGhlaWdodCBkeW5hbWljYWxseSB0byBjb250YWluZXIgaGVpZ2h0IGZvciBtb2JpbGUgdmVydGljYWwgc3RhY2tpbmcKICAgIFsiZ3JvdXAtYSIsICJncm91cC1iIl0uZm9yRWFjaChncm91cElkID0+IHsKICAgICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChncm91cElkKTsKICAgICAgY29uc3Qgcm91bmRzQ29udGFpbmVyID0gZ3JvdXAucXVlcnlTZWxlY3RvcigiLnJvdW5kcy1jb250YWluZXIiKTsKICAgICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CgogICAgICAvLyBTZXQgc3ZnIGhlaWdodCBhbmQgd2lkdGggdG8gcm91bmRzIGNvbnRhaW5lciBzaXplCiAgICAgIGNvbnN0IHJjUmVjdCA9IHJvdW5kc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgc3ZnLnN0eWxlLndpZHRoID0gcmNSZWN0LndpZHRoICsgInB4IjsKICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IHJjUmVjdC5oZWlnaHQgKyAicHgiOwogICAgfSk7CgogICAgZHJhd0dyb3VwQ29ubmVjdGlvbnMoImdyb3VwLWEiKTsKICAgIGRyYXdHcm91cENvbm5lY3Rpb25zKCJncm91cC1iIik7CiAgfQoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlZHJhd0FsbCk7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlZHJhd0FsbCk7Cjwvc2NyaXB0PgoKPC9ib2R5Pgo8L2h0bWw+Cg==",
  "TH15_stage3":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIiA+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KICA8dGl0bGU+U1RBR0UgMyBCU048L3RpdGxlPgogIDxzdHlsZT4KICAgIGJvZHkgewogICAgICBiYWNrZ3JvdW5kOiAjMTIxMjEyOwogICAgICBjb2xvcjogI2VlZTsKICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwogICAgICBtYXJnaW46IDIwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGdhcDogNDBweDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgcGFkZGluZy1ib3R0b206IDQwcHg7CiAgICB9CiAgICBoMSB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgY29sb3I6ICNmZmNjMDA7CiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7CiAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCAjZmZjYzAwY2M7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogICAgLmJyYWNrZXQtYm94IHsKICAgICAgYmFja2dyb3VuZDogIzFjMWMxYzsKICAgICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMTRweDsKICAgICAgcGFkZGluZzogMjBweCAzMHB4OwogICAgICB3aWR0aDogMzQwcHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4ICNmZmNjMDBhYSBpbnNldDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgfQogICAgLmJyYWNrZXQtYm94IGgyIHsKICAgICAgbWFyZ2luOiAwIDAgMTVweCAwOwogICAgICBjb2xvcjogI2ZmZDI0ZDsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB0ZXh0LXNoYWRvdzogMCAwIDhweCAjZmZkMjRkOTk7CiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07CiAgICB9CiAgICAubWF0Y2ggewogICAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZjYzAwOwogICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICBwYWRkaW5nOiAxNHB4IDEycHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIG1hcmdpbjogMTJweCAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCA4cHggI2ZmY2MwMGNjLAogICAgICAgIGluc2V0IDAgMCA3cHggI2ZmY2MwMGRkOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLCBjb2xvciAwLjNzIGVhc2U7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBnYXA6IDEycHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgY29sb3I6ICNmZmQyNGQ7CiAgICB9CiAgICAubWF0Y2g6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiAjZmZjYzAwOwogICAgICBjb2xvcjogIzEyMTIxMjsKICAgICAgYm94LXNoYWRvdzoKICAgICAgICAwIDAgMTRweCAjZmZkNzAwZWUsCiAgICAgICAgaW5zZXQgMCAwIDEwcHggI2ZmZDcwMGZmOwogICAgfQogICAgLnBsYXllciB7CiAgICAgIGJhY2tncm91bmQ6ICMzMzM7CiAgICAgIHBhZGRpbmc6IDZweCAxNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIHdpZHRoOiAxMTBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB1c2VyLXNlbGVjdDogdGV4dDsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggIzAwMGE7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAucGxheWVyLndpbm5lciB7CiAgICAgIGJhY2tncm91bmQ6ICNmZmQ3MDA7CiAgICAgIGNvbG9yOiAjMTIxMjEyOwogICAgICBmb250LXdlaWdodDogODAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCAxMnB4ICNmZmQ3MDBjYywKICAgICAgICBpbnNldCAwIDAgMTRweCAjZmZkNzAwZGQ7CiAgICB9CiAgICAudnMgewogICAgICBjb2xvcjogI2ZmY2MwMDsKICAgICAgZm9udC13ZWlnaHQ6IDkwMDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIH0KICAgIC8qIEFycm93IGljb25zIHRvIHNob3cgcHJvZ3Jlc3Npb24gaW5zaWRlIGJyYWNrZXRzICovCiAgICAuYXJyb3ctZG93biB7CiAgICAgIHdpZHRoOiAyNHB4OwogICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgIG1hcmdpbjogNXB4IGF1dG8gMTVweDsKICAgICAgZmlsbDogI2ZmY2MwMDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CgogICAgLyogTU9CSUxFIFJFU1BPTlNJVkUgU1RZTEVTICovCiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAgICAgYm9keSB7CiAgICAgICAgbWFyZ2luOiAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCB7CiAgICAgICAgd2lkdGg6IDkwdnc7CiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4ICNmZmNjMDA5OSBpbnNldDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCBoMiB7CiAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wNGVtOwogICAgICB9CiAgICAgIC5tYXRjaCB7CiAgICAgICAgcGFkZGluZzogOHB4IDhweDsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDZweCAjZmZjYzAwOTksCiAgICAgICAgICBpbnNldCAwIDAgNnB4ICNmZmNjMDBiYjsKICAgICAgfQogICAgICAucGxheWVyIHsKICAgICAgICB3aWR0aDogOTBweDsKICAgICAgICBwYWRkaW5nOiA0cHggOHB4OwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgfQogICAgICAucGxheWVyLndpbm5lciB7CiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDhweCAjZmZkNzAwYmIsCiAgICAgICAgICBpbnNldCAwIDAgMTBweCAjZmZkNzAwY2M7CiAgICAgIH0KICAgICAgLnZzIHsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIH0KICAgICAgLmFycm93LWRvd24gewogICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICBtYXJnaW46IDRweCBhdXRvIDEycHg7CiAgICAgIH0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIIDE1IEZpbmFsIEJyYWNrZXQgLSBTVEFGRiBQQU5FTCAgPC9oMT4KCjwhLS0gMS4gRmlyc3QgU2V0IC0tPgo8ZGl2IGNsYXNzPSJicmFja2V0LWJveCIgaWQ9ImZpcnN0LXNldCI+CiAgPGgyPkZpcnN0IFNldDwvaDI+CiAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJmcy1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIgIj5TMTwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlMyPC9kaXY+CiAgPC9kaXY+CiAgPHN2ZyBjbGFzcz0iYXJyb3ctZG93biIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMTZsLTYtNmgxMnoiLz48L3N2Zz4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImZzLW0yIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+UzM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgPGRpdiBjbGFzcz0icGxheWVyICI+UzQ8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIDIuIFdpbm5lcnMgQnJhY2tldCAoUXVhbGlmaWVyIDEgU2V0KSAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJ3aW5uZXJzLWJyYWNrZXQiPgogIDxoMj5RdWFsaWZpZXIgMSBTZXQgKFdpbm5lcnMgQnJhY2tldCk8L2gyPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0id3ExLW0xIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEZTMTwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBGUzI8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8IS0tIDMuIExvc2VycyBCcmFja2V0IChFbGltaW5hdGlvbiAxIFNldCkgLS0+CjxkaXYgY2xhc3M9ImJyYWNrZXQtYm94IiBpZD0ibG9zZXJzLWJyYWNrZXQiPgogIDxoMj5FbGltaW5hdGlvbiAxIFNldCAoTG9zZXJzIEJyYWNrZXQpPC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImxlMS1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkxvc2VyIEZTMTwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkxvc2VyIEZTMjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gNC4gUXVhbGlmaWVyIDIgU2V0IC0tPgo8ZGl2IGNsYXNzPSJicmFja2V0LWJveCIgaWQ9InF1YWxpZmllci0yLXNldCI+CiAgPGgyPlF1YWxpZmllciAyIFNldDwvaDI+CiAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJxMi1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkxvc2VyIFExPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEUxPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSA1LiBHcmFuZCBGaW5hbCAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJncmFuZC1maW5hbCI+CiAgPGgyPkdyYW5kIEZpbmFsPC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImdmLW0xIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIFExPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIFEyPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cg==",
  "TH17_stage1":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiLz4KICA8dGl0bGU+VEgxNyBCcmFja2V0IC0gQlNOIEN1cCBTMjwvdGl0bGU+CiAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICA8c3R5bGU+CiAgICAqIHsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KCiAgICBib2R5IHsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiAwOwogICAgICBiYWNrZ3JvdW5kOiAjZjdmOWZjOwogICAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgICAgIGNvbG9yOiAjMzMzOwogICAgfQoKICAgIGgxIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogIzIyMjsKICAgICAgZm9udC1zaXplOiAyLjVyZW07CiAgICAgIHBhZGRpbmc6IDMwcHggMTBweCAxMHB4OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgIC5icmFja2V0IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgZ2FwOiAyNHB4OwogICAgICBwYWRkaW5nOiAzMHB4IDIwcHg7CiAgICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgICBtYXJnaW46IGF1dG87CiAgICB9CgogICAgLm1hdGNoIHsKICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMDYpOwogICAgICBwYWRkaW5nOiAyMHB4OwogICAgICB3aWR0aDogMzAwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0OwogICAgfQoKICAgIC5tYXRjaDpob3ZlciB7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgfQoKICAgIC5wbGF5ZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBwYWRkaW5nOiAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlLWluLW91dDsKICAgIH0KCiAgICAucGxheWVyIHNtYWxsIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIG1hcmdpbi10b3A6IDRweDsKICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICBjb2xvcjogIzc3NzsKICAgIH0KCiAgICAudnMgewogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgIGNvbG9yOiAjNDQ0OwogICAgfQoKICAgIC53aW5uZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmN2U5ICFpbXBvcnRhbnQ7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNmU1YzM7CiAgICAgIGNvbG9yOiAjMWI1ZTIwOwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgfQoKICAgCgouZ29sZC1idXR0b24gewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDRhZjM3OwogIGNvbG9yOiB3aGl0ZTsKICBwYWRkaW5nOiAxMnB4IDI0cHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7Cn0KCi5nb2xkLWJ1dHRvbjpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2I4ODYwYjsKfQoKCgogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CgogIDxoMT5USDE3IFNUQUdFIDEgLSBTVEFGRiBQQU5FTDwvaDE+CiAgCgoKCiAgPGRpdiBjbGFzcz0iYnJhY2tldCI+CgogICAgCgogICAgPCEtLSBNYXRjaCAxIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIgIj5JQ0wgS0FSVEhJSzxicj48c21hbGw+QG1yX2JsYXplPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QkxPT0RMSU5FPGJyPjxzbWFsbD5AemFuZ2V0c3UuemVyb19vOTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+UkVEIERSQUdPTjxicj48c21hbGw+QGRyYWdvbjU0aTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlNJTEVOVCBUSUdFUjxicj48c21hbGw+QE9ueXhfMDEyPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj7imIbimIXimIZBSkFZ4piG4piF4piGPGJyPjxzbWFsbD5AYWpheXMucHk8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5hamlpaTxicj48c21hbGw+QGFqaWlpaV88L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA0IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPklnIFZlZXJ1IDEgPGJyPjxzbWFsbD5AaWdfdmVlcnU8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5NUi5fUFJJVF8wMDcgPGJyPjxzbWFsbD5AcHJpdDkzODM8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA1IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkhpbGFsIDxicj48c21hbGw+QE5vaXIuYWlpPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U3VyZXNoIFZKIDxicj48c21hbGw+QFN1cmVzaF92ajwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDYgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Q1JBWlkgPGJyPjxzbWFsbD5AbWRraGFpcjAzNzk8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BYmR1bCBIYWRpIDxicj48c21hbGw+QGFiZGh1bGhhZGkxMTY1PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggNyAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5DbGFzaCBvZiBSRCA8YnI+PHNtYWxsPkBkaHJ1dnJ1cGFsYTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkgkSiA8YnI+PHNtYWxsPkBoamlueWE5NjA8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA4IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlFM4oSiIEFKQVkgMzMzIDxicj48c21hbGw+QGFqYXlfXzMzMzwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkRpcHRhbmdzaHXihKIgPGJyPjxzbWFsbD5AYmxpenphcmRfb3A8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCA5IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPuelniBLYWnihKIgPGJyPjxzbWFsbD5Ac3RyYW5nZTEuN3hzZW48L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5WaWthYXNoIDxicj48c21hbGw+QHZpa2Fhc2g2ODE4PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTAgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+ROKIhlJLIFNI4oiGZG93PGJyPjxzbWFsbD5AZ2l5dXUwNTMyOTwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlJhaiA8YnI+PHNtYWxsPkByYWo5NDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDExIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkdyYXZpdHkgPGJyPjxzbWFsbD5AYW5vaWM8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5lbmRlcmtpbGxlcjg1OSA8YnI+PHNtYWxsPkBzb2Z0aGFja3M8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAxMiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5WaWNreW1heCA8YnI+PHNtYWxsPkB2aWNreW1heDQ0MTQ8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5WQVlOQVJEIDxicj48c21hbGw+QHZheW5hcmQwPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTMgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QW5ha2luMDA3PGJyPjxzbWFsbD5AYW5ha2luMDA3PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+4pqh77iPSG91Y3nimqHvuI8gPGJyPjxzbWFsbD5AX2Zyb3plbnRpdGFuPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTQgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+KFRHRilNZWhtZXQgPGJyPjxzbWFsbD5AbWVobWV0MDgwMTg0PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QW50b3p6byA8YnI+PHNtYWxsPkBhbnRvenpvPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTUgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QkxPT0RMSU5FIDxicj48c21hbGw+QHBpeXVzaHNoYXJtYTI2NjE8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5EYW5nZXIgd2FycmlvciA8YnI+PHNtYWxsPkBkYW5nZXJ3YXJyaW9yX2R3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTYgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+UUzihKIgQUtTSEFZIDxicj48c21hbGw+QGFrc2hheWtpbmc8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BcnJvdyA8YnI+PHNtYWxsPkBtb2hpdHJhbmExPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMTcgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+bGF3Zmx4IDxicj48c21hbGw+QG1lanRzY2hpPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+44K+44OtIC0g5rW36LOK54up44KKIDxicj48c21hbGw+QHJhZjAwNjMzOTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDE4IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlZpdnkgPGJyPjxzbWFsbD5AZW56YTg2ODQ8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BbE1haXRpIDxicj48c21hbGw+QGFiaGlydXBtYWl0aTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDE5IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlJhZmkgPGJyPjxzbWFsbD5AcmFmaTk1NDQ8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5CYWh1YmFsaSA8YnI+PHNtYWxsPkBraW5nMDQ3Mjg8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAyMCAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5XUCBDb3dib3kgPGJyPjxzbWFsbD5AaWFfY293Ym95PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+S1IkTkEgPGJyPjxzbWFsbD5AbmF2aW5uXzE3PC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjEgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+S0hBTk5BIFNBQ0hJTiA8YnI+PHNtYWxsPkBzYWNoaW5raGFubmEwNTM3PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U2diaWxhbCA8YnI+PHNtYWxsPkBiaWxhbHNheWVlZDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIyIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkJlbmZpY2EgPGJyPjxzbWFsbD5AX2JlbmZpY2EwMDQ8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5EV+KcqEFLSElM4pyoIDxicj48c21hbGw+QGFraGlsNTU1OTwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDIzIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkRBUkstTk9WQSA8YnI+PHNtYWxsPkBkYXJrbm92YTA3PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SFcg4pqU77iPIE9QIFNJWUFNIOKchSA8YnI+PHNtYWxsPkBzaXlhbWhhc2FuMDEzMDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDI0IC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPktpc2hvciBQYXNoYSA8YnI+PHNtYWxsPkBuYWhpeWFuNDc0ODwvc21hbGw+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlNoaXZhIHNoaXZhIDxicj48c21hbGw+QHNoaXZhc2hpdmE2MjQwPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjUgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+eW91cGluZGFvIDxicj48c21hbGw+QC5waWthY2h1Z2FtaW5nPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Li4uLktQLi4uLiA8YnI+PHNtYWxsPkAua3AuXzYzPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjYgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QWxpIEhhaWRlciBDaHkgPGJyPjxzbWFsbD5AYWxpaGFpZGVyY2hvd2RodXJ5PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+U3Bvb2t5TmFpbSA8YnI+PHNtYWxsPkBzcG9va3luYWltPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjcgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+VW5zdG9wcGFibGUgPGJyPjxzbWFsbD5AYmxhZGUwMTA4MjM8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj7om4fDl+G0j8qZ4bSAybThtIDJqiA8YnI+PHNtYWxsPkBteHh0aWN4YW5lPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjggLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TXIgY29jIGxvdmVyIDxicj48c21hbGw+QHNpbGVudGJveTA3NDE8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5BbnNoIHlud2EgTEZDIDxicj48c21hbGw+QGFuc2h5bndhPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gTWF0Y2ggMjkgLS0+CiAgICA8ZGl2IGNsYXNzPSJtYXRjaCI+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+TXIgQnJpZ2h0c2lkZSA8YnI+PHNtYWxsPkBtYXRyaXg5NTA0PC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+Q2VkbGVuIDxicj48c21hbGw+QEJhZGFncm91dzwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDMwIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkNvbGRibG9vZCA8YnI+PHNtYWxsPkBzY29vcHlfOTc8L3NtYWxsPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5Ub3JtYXggPGJyPjxzbWFsbD5AX3Rvcm1heDwvc21hbGw+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIE1hdGNoIDMxIC0tPgogICAgPGRpdiBjbGFzcz0ibWF0Y2giPgogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPuOJus624oCM4oCM4riZ4bSY4bScyoDigIzigIzhtJjKn+G0h+S4quOAhiA8YnI+PHNtYWxsPkBzaXIucGFycG9sPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+QlAgVE9SUEUgPGJyPjxzbWFsbD5AVE9QUEUuMTg8L3NtYWxsPjwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBNYXRjaCAzMiAtLT4KICAgIDxkaXYgY2xhc3M9Im1hdGNoIj4KICAgICAgPGRpdiBjbGFzcz0icGxheWVyIj5LaXJpdG8gPGJyPjxzbWFsbD5Adml0YW1pbmMyOTEzPC9zbWFsbD48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InBsYXllciI+SGltYW50YSA8YnI+PHNtYWxsPkBoaW1hbnRhMDAxPC9zbWFsbD48L2Rpdj4KICAgIDwvZGl2PgoKICAgIAoKICAKCgoKICAgCiAgPC9kaXY+CjxzY3JpcHQ+CiAgZnVuY3Rpb24gc2VhcmNoUGxheWVyKCkgewogICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKS52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIGlmICghaW5wdXQpIHJldHVybjsKCiAgICBjb25zdCBtYXRjaGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm1hdGNoIik7CiAgICBsZXQgZm91bmQgPSBmYWxzZTsKCiAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT4gewogICAgICBjb25zdCBwbGF5ZXJzID0gbWF0Y2gucXVlcnlTZWxlY3RvckFsbCgiLnBsYXllciIpOwogICAgICBwbGF5ZXJzLmZvckVhY2gocGxheWVyRGl2ID0+IHsKICAgICAgICAvLyBHZXQgZnVsbCB0ZXh0IGNvbnRlbnQgKGluY2x1ZGVzIG5hbWUgYW5kIEB1c2VybmFtZSkKICAgICAgICBjb25zdCBwbGF5ZXJUZXh0ID0gcGxheWVyRGl2LnRleHRDb250ZW50LnJlcGxhY2UoL1xzKy9nLCAiICIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChwbGF5ZXJUZXh0LmluY2x1ZGVzKGlucHV0KSkgewogICAgICAgICAgbWF0Y2guc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogInNtb290aCIsIGJsb2NrOiAiY2VudGVyIiB9KTsKICAgICAgICAgIG1hdGNoLnN0eWxlLnRyYW5zaXRpb24gPSAiYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UiOwogICAgICAgICAgbWF0Y2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmZmYxYTgiOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIG1hdGNoLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwogICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGlmICghZm91bmQpIHsKICAgICAgYWxlcnQoIk5vIG1hdGNoIGZvdW5kIHdpdGggdGhhdCBuYW1lIG9yIHVzZXJuYW1lLiIpOwogICAgfQogIH0KPC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4K",
  "TH17_stage2":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+Cjx0aXRsZT5TVEFHRSAyIEJTTjwvdGl0bGU+CjxzdHlsZT4KICBib2R5IHsKICAgIGJhY2tncm91bmQ6ICMxMjEyMTI7CiAgICBjb2xvcjogI2VlZTsKICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgfQogIGgxIHsKICAgIGNvbG9yOiAjZmZjYzAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9CgogIC5icmFja2V0LXdyYXBwZXIgewogICAgbWF4LXdpZHRoOiA3MDBweDsKICAgIG1hcmdpbjogYXV0bzsKICAgIHBhZGRpbmctYm90dG9tOiA2MHB4OwogIH0KCiAgLmdyb3VwIHsKICAgIGJhY2tncm91bmQ6ICMyMjI7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZjYzAwOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogIH0KICAuZ3JvdXAgaDIgewogICAgY29sb3I6ICNmZmNjMDA7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0KCiAgLyogcm91bmRzIGNvbnRhaW5lciBob2xkcyB0aGUgcm91bmRzIHNpZGUgYnkgc2lkZSAqLwogIC5yb3VuZHMtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBnYXA6IDIwcHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIElNUE9SVEFOVCBmb3IgU1ZHIGFic29sdXRlICovCiAgfQoKICAucm91bmQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEycHg7CiAgICBtaW4td2lkdGg6IDEyMHB4OwogIH0KICAucm91bmQgaDMgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICBjb2xvcjogI2ZmZDI0ZDsKICB9CgogIC5tYXRjaCB7CiAgICBiYWNrZ3JvdW5kOiAjMzMzOwogICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgIHBhZGRpbmc6IDhweCAxMHB4OwogICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBsaW5lLWhlaWdodDogMS4yOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgei1pbmRleDogMTA7CiAgfQoKICAubWF0Y2g6aG92ZXIgewogICAgYmFja2dyb3VuZDogI2ZmY2MwMDsKICAgIGNvbG9yOiAjMTIxMjEyOwogIH0KCiAgLnBsYXllciB7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgIG1hcmdpbjogMnB4IDA7CiAgfQoKICAvKiBTVkcgaW5zaWRlIHJvdW5kcyBjb250YWluZXIgKi8KICBzdmcuY29ubmVjdG9yLXN2ZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgei1pbmRleDogNTsKICB9CgogIC8qIC0tLSBNT0JJTEUgTEFZT1VUIC0tLSAqLwogIEBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogICAgLnJvdW5kcy1jb250YWluZXIgewogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBnYXA6IDMwcHg7CiAgICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OyAvKiBhbGxvdyBoZWlnaHQgZ3Jvd3RoICovCiAgICB9CiAgICAucm91bmQgewogICAgICBtaW4td2lkdGg6IDEwMCU7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogICAgc3ZnLmNvbm5lY3Rvci1zdmcgewogICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDA7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHotaW5kZXg6IDU7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgfQogICAgLyogbWFrZSBtYXRjaGVzIGJpZ2dlciBvbiBtb2JpbGUgZm9yIHJlYWRhYmlsaXR5ICovCiAgICAubWF0Y2ggewogICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgICAgYm9yZGVyLXdpZHRoOiAzcHg7CiAgICB9CiAgfQo8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIMTcgU3RhZ2UgMiAtIFNUQUZGIFBBTkVMPC9oMT4KCjxkaXYgY2xhc3M9ImJyYWNrZXQtd3JhcHBlciI+CgogIDwhLS0gR3JvdXAgQSAtLT4KICA8ZGl2IGNsYXNzPSJncm91cCIgaWQ9Imdyb3VwLWEiPgogICAgPGgyPkdyb3VwIEE8L2gyPgogICAgPGRpdiBjbGFzcz0icm91bmRzLWNvbnRhaW5lciIgaWQ9InJvdW5kcy1hIj4KICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjE2LWEiPgogICAgICAgIDxoMz5Sb3VuZCBvZiAxNjwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0xIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEEyPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0yIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE0PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW0zIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE2PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW00Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBNzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEE4PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW01Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBOTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExMDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1tNiI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTExPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQTEyPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLW03Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBBMTQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtbTgiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEExNjwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InJvdW5kIiBkYXRhLXJvdW5kPSI4LWEiPgogICAgICAgIDxoMz5RdWFydGVyZmluYWxzPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtcTEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU0yPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLXEyIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU0zPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1xMyI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1NNTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtcTQiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtTTc8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLU04PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjQtYSI+CiAgICAgICAgPGgzPlNlbWlmaW5hbHM8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYS1zMSI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1RMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImEtczIiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEEtUTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVE0PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjItYSI+CiAgICAgICAgPGgzPkZpbmFsIChHcm91cCBBKTwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJhLWYxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBBLVMxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQS1TMjwvZGl2PjwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxzdmcgY2xhc3M9ImNvbm5lY3Rvci1zdmciIGlkPSJzdmctYSI+PC9zdmc+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBHcm91cCBCIC0tPgogIDxkaXYgY2xhc3M9Imdyb3VwIiBpZD0iZ3JvdXAtYiI+CiAgICA8aDI+R3JvdXAgQjwvaDI+CiAgICA8ZGl2IGNsYXNzPSJyb3VuZHMtY29udGFpbmVyIiBpZD0icm91bmRzLWIiPgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMTYtYiI+CiAgICAgICAgPGgzPlJvdW5kIG9mIDE2PC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTEiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTIiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIzPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjQ8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTMiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI1PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjY8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTQiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI3PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjg8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTUiPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEI5PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjEwPC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLW02Ij48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPlBsYXllciBCMTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItbTciPjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+UGxheWVyIEIxNDwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1tOCI+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjE1PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5QbGF5ZXIgQjE2PC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBjbGFzcz0icm91bmQiIGRhdGEtcm91bmQ9IjgtYiI+CiAgICAgICAgPGgzPlF1YXJ0ZXJmaW5hbHM8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1xMSI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NMTwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTI8L2Rpdj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItcTIiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTM8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU00PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXEzIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLU01PC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1xNCI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1NNzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItTTg8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iNC1iIj4KICAgICAgICA8aDM+U2VtaWZpbmFsczwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJiLXMxIj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVExPC9kaXY+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iYi1zMiI+PGRpdiBjbGFzcz0icGxheWVyIj5XaW5uZXIgQi1RMzwvZGl2PjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUTQ8L2Rpdj48L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJyb3VuZCIgZGF0YS1yb3VuZD0iMi1iIj4KICAgICAgICA8aDM+RmluYWwgKEdyb3VwIEIpPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImItZjEiPjxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEItUzE8L2Rpdj48ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBCLVMyPC9kaXY+PC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPHN2ZyBjbGFzcz0iY29ubmVjdG9yLXN2ZyIgaWQ9InN2Zy1iIj48L3N2Zz4KICAgIDwvZGl2PgogIDwvZGl2PgoKPC9kaXY+Cgo8c2NyaXB0PgogIC8vIENyZWF0ZSBjdXJ2ZWQgU1ZHIHBhdGggYmV0d2VlbiB0d28gcmVjdHMgcmVsYXRpdmUgdG8gY29udGFpbmVyIChkZXNrdG9wKQogIGZ1bmN0aW9uIGNyZWF0ZUN1cnZlZFBhdGgoc3RhcnQsIGVuZCkgewogICAgY29uc3QgeG1sbnMgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgInBhdGgiKTsKCiAgICBjb25zdCBzdGFydFggPSBzdGFydC5yaWdodDsKICAgIGNvbnN0IHN0YXJ0WSA9IHN0YXJ0LnRvcCArIHN0YXJ0LmhlaWdodCAvIDI7CgogICAgY29uc3QgZW5kWCA9IGVuZC5sZWZ0OwogICAgY29uc3QgZW5kWSA9IGVuZC50b3AgKyBlbmQuaGVpZ2h0IC8gMjsKCiAgICBjb25zdCBjdXJ2ZU9mZnNldFggPSAzMDsKCiAgICBjb25zdCBkID0gYAogICAgICBNJHtzdGFydFh9LCR7c3RhcnRZfQogICAgICBDJHtzdGFydFggKyBjdXJ2ZU9mZnNldFh9LCR7c3RhcnRZfQogICAgICAgJHtlbmRYIC0gY3VydmVPZmZzZXRYfSwke2VuZFl9CiAgICAgICAke2VuZFh9LCR7ZW5kWX0KICAgIGA7CgogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImQiLCBkKTsKICAgIHBhdGguc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiI2ZmY2MwMCIpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsIDMpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoImZpbGwiLCAibm9uZSIpOwoKICAgIHJldHVybiBwYXRoOwogIH0KCiAgLy8gQ3JlYXRlIHN0cmFpZ2h0IEwtc2hhcGVkIFNWRyBwYXRoIChtb2JpbGUpCiAgZnVuY3Rpb24gY3JlYXRlU3RyYWlnaHRQYXRoKHN0YXJ0LCBlbmQpIHsKICAgIGNvbnN0IHhtbG5zID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsICJwYXRoIik7CgogICAgY29uc3Qgc3RhcnRYID0gc3RhcnQucmlnaHQ7CiAgICBjb25zdCBzdGFydFkgPSBzdGFydC50b3AgKyBzdGFydC5oZWlnaHQgLyAyOwoKICAgIGNvbnN0IGVuZFggPSBlbmQubGVmdDsKICAgIGNvbnN0IGVuZFkgPSBlbmQudG9wICsgZW5kLmhlaWdodCAvIDI7CgogICAgY29uc3QgbWlkWCA9IChzdGFydFggKyBlbmRYKSAvIDI7CgogICAgY29uc3QgZCA9IGAKICAgICAgTSR7c3RhcnRYfSwke3N0YXJ0WX0KICAgICAgTCR7bWlkWH0sJHtzdGFydFl9CiAgICAgIEwke21pZFh9LCR7ZW5kWX0KICAgICAgTCR7ZW5kWH0sJHtlbmRZfQogICAgYDsKCiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZCIsIGQpOwogICAgcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsICIjZmZjYzAwIik7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgMyk7CiAgICBwYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsICJub25lIik7CgogICAgcmV0dXJuIHBhdGg7CiAgfQoKICBmdW5jdGlvbiBnZXRSZWN0KGVsZW0sIGNvbnRhaW5lcikgewogICAgY29uc3QgZWxlbVJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICByZXR1cm4gewogICAgICBsZWZ0OiBlbGVtUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0LAogICAgICByaWdodDogZWxlbVJlY3QucmlnaHQgLSBjb250YWluZXJSZWN0LmxlZnQsCiAgICAgIHRvcDogZWxlbVJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIGJvdHRvbTogZWxlbVJlY3QuYm90dG9tIC0gY29udGFpbmVyUmVjdC50b3AsCiAgICAgIHdpZHRoOiBlbGVtUmVjdC53aWR0aCwKICAgICAgaGVpZ2h0OiBlbGVtUmVjdC5oZWlnaHQsCiAgICB9OwogIH0KCiAgLy8gRHJhdyBjb25uZWN0aW9ucyBpbnNpZGUgZWFjaCBncm91cAogIGZ1bmN0aW9uIGRyYXdHcm91cENvbm5lY3Rpb25zKGdyb3VwSWQpIHsKICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ3JvdXBJZCk7CiAgICBjb25zdCByb3VuZHNDb250YWluZXIgPSBncm91cC5xdWVyeVNlbGVjdG9yKCIucm91bmRzLWNvbnRhaW5lciIpOwogICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CiAgICBzdmcuaW5uZXJIVE1MID0gIiI7CgogICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3MjA7CiAgICBjb25zdCBwYXRoQ3JlYXRvciA9IGlzTW9iaWxlID8gY3JlYXRlU3RyYWlnaHRQYXRoIDogY3JlYXRlQ3VydmVkUGF0aDsKCiAgICAvLyBSb3VuZCBvZiAxNiAoOCBtYXRjaGVzKSDihpIgUXVhcnRlcmZpbmFscyAoNCBtYXRjaGVzKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gODsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1tJHtpfWApOwogICAgICBjb25zdCBuZXh0SW5kZXggPSBNYXRoLmNlaWwoaSAvIDIpOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke25leHRJbmRleH1gKTsKICAgICAgaWYgKHN0YXJ0TWF0Y2ggJiYgZW5kTWF0Y2gpIHsKICAgICAgICBjb25zdCBzdGFydCA9IGdldFJlY3Qoc3RhcnRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBjb25zdCBlbmQgPSBnZXRSZWN0KGVuZE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoQ3JlYXRvcihzdGFydCwgZW5kKSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBRdWFydGVyZmluYWxzICg0IG1hdGNoZXMpIOKGkiBTZW1pZmluYWxzICgyIG1hdGNoZXMpCiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgY29uc3Qgc3RhcnRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LXEke2l9YCk7CiAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGguY2VpbChpIC8gMik7CiAgICAgIGNvbnN0IGVuZE1hdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7Z3JvdXBJZC5jaGFyQXQoZ3JvdXBJZC5sZW5ndGggLSAxKX0tcyR7bmV4dEluZGV4fWApOwogICAgICBpZiAoc3RhcnRNYXRjaCAmJiBlbmRNYXRjaCkgewogICAgICAgIGNvbnN0IHN0YXJ0ID0gZ2V0UmVjdChzdGFydE1hdGNoLCByb3VuZHNDb250YWluZXIpOwogICAgICAgIGNvbnN0IGVuZCA9IGdldFJlY3QoZW5kTWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGhDcmVhdG9yKHN0YXJ0LCBlbmQpKTsKICAgICAgfQogICAgfQoKICAgIC8vIFNlbWlmaW5hbHMgKDIgbWF0Y2hlcykg4oaSIEZpbmFsICgxIG1hdGNoKQogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjsgaSsrKSB7CiAgICAgIGNvbnN0IHN0YXJ0TWF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtncm91cElkLmNoYXJBdChncm91cElkLmxlbmd0aCAtIDEpfS1zJHtpfWApOwogICAgICBjb25zdCBlbmRNYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2dyb3VwSWQuY2hhckF0KGdyb3VwSWQubGVuZ3RoIC0gMSl9LWYxYCk7CiAgICAgIGlmIChzdGFydE1hdGNoICYmIGVuZE1hdGNoKSB7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRSZWN0KHN0YXJ0TWF0Y2gsIHJvdW5kc0NvbnRhaW5lcik7CiAgICAgICAgY29uc3QgZW5kID0gZ2V0UmVjdChlbmRNYXRjaCwgcm91bmRzQ29udGFpbmVyKTsKICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aENyZWF0b3Ioc3RhcnQsIGVuZCkpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWRyYXdBbGwoKSB7CiAgICAvLyBBZGp1c3QgU1ZHIGhlaWdodCBkeW5hbWljYWxseSB0byBjb250YWluZXIgaGVpZ2h0IGZvciBtb2JpbGUgdmVydGljYWwgc3RhY2tpbmcKICAgIFsiZ3JvdXAtYSIsICJncm91cC1iIl0uZm9yRWFjaChncm91cElkID0+IHsKICAgICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChncm91cElkKTsKICAgICAgY29uc3Qgcm91bmRzQ29udGFpbmVyID0gZ3JvdXAucXVlcnlTZWxlY3RvcigiLnJvdW5kcy1jb250YWluZXIiKTsKICAgICAgY29uc3Qgc3ZnID0gcm91bmRzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoInN2Zy5jb25uZWN0b3Itc3ZnIik7CgogICAgICAvLyBTZXQgc3ZnIGhlaWdodCBhbmQgd2lkdGggdG8gcm91bmRzIGNvbnRhaW5lciBzaXplCiAgICAgIGNvbnN0IHJjUmVjdCA9IHJvdW5kc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgc3ZnLnN0eWxlLndpZHRoID0gcmNSZWN0LndpZHRoICsgInB4IjsKICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IHJjUmVjdC5oZWlnaHQgKyAicHgiOwogICAgfSk7CgogICAgZHJhd0dyb3VwQ29ubmVjdGlvbnMoImdyb3VwLWEiKTsKICAgIGRyYXdHcm91cENvbm5lY3Rpb25zKCJncm91cC1iIik7CiAgfQoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlZHJhd0FsbCk7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlZHJhd0FsbCk7Cjwvc2NyaXB0PgoKPC9ib2R5Pgo8L2h0bWw+Cg==",
  "TH17_stage3":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIiA+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KICA8dGl0bGU+U1RBR0UgMyBCU048L3RpdGxlPgogIDxzdHlsZT4KICAgIGJvZHkgewogICAgICBiYWNrZ3JvdW5kOiAjMTIxMjEyOwogICAgICBjb2xvcjogI2VlZTsKICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOwogICAgICBtYXJnaW46IDIwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGdhcDogNDBweDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgcGFkZGluZy1ib3R0b206IDQwcHg7CiAgICB9CiAgICBoMSB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgY29sb3I6ICNmZmNjMDA7CiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7CiAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCAjZmZjYzAwY2M7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogICAgLmJyYWNrZXQtYm94IHsKICAgICAgYmFja2dyb3VuZDogIzFjMWMxYzsKICAgICAgYm9yZGVyOiAycHggc29saWQgI2ZmY2MwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMTRweDsKICAgICAgcGFkZGluZzogMjBweCAzMHB4OwogICAgICB3aWR0aDogMzQwcHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4ICNmZmNjMDBhYSBpbnNldDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgfQogICAgLmJyYWNrZXQtYm94IGgyIHsKICAgICAgbWFyZ2luOiAwIDAgMTVweCAwOwogICAgICBjb2xvcjogI2ZmZDI0ZDsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB0ZXh0LXNoYWRvdzogMCAwIDhweCAjZmZkMjRkOTk7CiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07CiAgICB9CiAgICAubWF0Y2ggewogICAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgICBib3JkZXI6IDNweCBzb2xpZCAjZmZjYzAwOwogICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICBwYWRkaW5nOiAxNHB4IDEycHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIG1hcmdpbjogMTJweCAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCA4cHggI2ZmY2MwMGNjLAogICAgICAgIGluc2V0IDAgMCA3cHggI2ZmY2MwMGRkOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLCBjb2xvciAwLjNzIGVhc2U7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBnYXA6IDEycHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgY29sb3I6ICNmZmQyNGQ7CiAgICB9CiAgICAubWF0Y2g6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiAjZmZjYzAwOwogICAgICBjb2xvcjogIzEyMTIxMjsKICAgICAgYm94LXNoYWRvdzoKICAgICAgICAwIDAgMTRweCAjZmZkNzAwZWUsCiAgICAgICAgaW5zZXQgMCAwIDEwcHggI2ZmZDcwMGZmOwogICAgfQogICAgLnBsYXllciB7CiAgICAgIGJhY2tncm91bmQ6ICMzMzM7CiAgICAgIHBhZGRpbmc6IDZweCAxNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIHdpZHRoOiAxMTBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB1c2VyLXNlbGVjdDogdGV4dDsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggIzAwMGE7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAucGxheWVyLndpbm5lciB7CiAgICAgIGJhY2tncm91bmQ6ICNmZmQ3MDA7CiAgICAgIGNvbG9yOiAjMTIxMjEyOwogICAgICBmb250LXdlaWdodDogODAwOwogICAgICBib3gtc2hhZG93OgogICAgICAgIDAgMCAxMnB4ICNmZmQ3MDBjYywKICAgICAgICBpbnNldCAwIDAgMTRweCAjZmZkNzAwZGQ7CiAgICB9CiAgICAudnMgewogICAgICBjb2xvcjogI2ZmY2MwMDsKICAgICAgZm9udC13ZWlnaHQ6IDkwMDsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIH0KICAgIC8qIEFycm93IGljb25zIHRvIHNob3cgcHJvZ3Jlc3Npb24gaW5zaWRlIGJyYWNrZXRzICovCiAgICAuYXJyb3ctZG93biB7CiAgICAgIHdpZHRoOiAyNHB4OwogICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgIG1hcmdpbjogNXB4IGF1dG8gMTVweDsKICAgICAgZmlsbDogI2ZmY2MwMDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CgogICAgLyogTU9CSUxFIFJFU1BPTlNJVkUgU1RZTEVTICovCiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAgICAgYm9keSB7CiAgICAgICAgbWFyZ2luOiAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCB7CiAgICAgICAgd2lkdGg6IDkwdnc7CiAgICAgICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4ICNmZmNjMDA5OSBpbnNldDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICB9CiAgICAgIC5icmFja2V0LWJveCBoMiB7CiAgICAgICAgZm9udC1zaXplOiAxLjFyZW07CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wNGVtOwogICAgICB9CiAgICAgIC5tYXRjaCB7CiAgICAgICAgcGFkZGluZzogOHB4IDhweDsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgICBib3JkZXItd2lkdGg6IDJweDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDZweCAjZmZjYzAwOTksCiAgICAgICAgICBpbnNldCAwIDAgNnB4ICNmZmNjMDBiYjsKICAgICAgfQogICAgICAucGxheWVyIHsKICAgICAgICB3aWR0aDogOTBweDsKICAgICAgICBwYWRkaW5nOiA0cHggOHB4OwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgfQogICAgICAucGxheWVyLndpbm5lciB7CiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICBib3gtc2hhZG93OgogICAgICAgICAgMCAwIDhweCAjZmZkNzAwYmIsCiAgICAgICAgICBpbnNldCAwIDAgMTBweCAjZmZkNzAwY2M7CiAgICAgIH0KICAgICAgLnZzIHsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIH0KICAgICAgLmFycm93LWRvd24gewogICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICBtYXJnaW46IDRweCBhdXRvIDEycHg7CiAgICAgIH0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGgxPlRIIDE3IEZpbmFsIEJyYWNrZXQgLSBTVEFGRiBQQU5FTHMgIDwvaDE+Cgo8IS0tIDEuIEZpcnN0IFNldCAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJmaXJzdC1zZXQiPgogIDxoMj5GaXJzdCBTZXQ8L2gyPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0iZnMtbTEiPgogICAgPGRpdiBjbGFzcz0icGxheWVyICI+UzE8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InZzIj52czwvZGl2PgogICAgPGRpdiBjbGFzcz0icGxheWVyIj5TMjwvZGl2PgogIDwvZGl2PgogIDxzdmcgY2xhc3M9ImFycm93LWRvd24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyIDE2bC02LTZoMTJ6Ii8+PC9zdmc+CiAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJmcy1tMiI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPlMzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciAiPlM0PC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSAyLiBXaW5uZXJzIEJyYWNrZXQgKFF1YWxpZmllciAxIFNldCkgLS0+CjxkaXYgY2xhc3M9ImJyYWNrZXQtYm94IiBpZD0id2lubmVycy1icmFja2V0Ij4KICA8aDI+UXVhbGlmaWVyIDEgU2V0IChXaW5uZXJzIEJyYWNrZXQpPC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9IndxMS1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIgIj5XaW5uZXIgRlMxPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEZTMjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gMy4gTG9zZXJzIEJyYWNrZXQgKEVsaW1pbmF0aW9uIDEgU2V0KSAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJsb3NlcnMtYnJhY2tldCI+CiAgPGgyPkVsaW1pbmF0aW9uIDEgU2V0IChMb3NlcnMgQnJhY2tldCk8L2gyPgogIDxkaXYgY2xhc3M9Im1hdGNoIiBpZD0ibGUxLW0xIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+TG9zZXIgRlMxPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciAiPkxvc2VyIEZTMjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjwhLS0gNC4gUXVhbGlmaWVyIDIgU2V0IC0tPgo8ZGl2IGNsYXNzPSJicmFja2V0LWJveCIgaWQ9InF1YWxpZmllci0yLXNldCI+CiAgPGgyPlF1YWxpZmllciAyIFNldDwvaDI+CiAgPGRpdiBjbGFzcz0ibWF0Y2giIGlkPSJxMi1tMSI+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPkxvc2VyIFExPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ2cyI+dnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBsYXllciI+V2lubmVyIEUxPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSA1LiBHcmFuZCBGaW5hbCAtLT4KPGRpdiBjbGFzcz0iYnJhY2tldC1ib3giIGlkPSJncmFuZC1maW5hbCI+CiAgPGgyPkdyYW5kIEZpbmFsPC9oMj4KICA8ZGl2IGNsYXNzPSJtYXRjaCIgaWQ9ImdmLW0xIj4KICAgIDxkaXYgY2xhc3M9InBsYXllciAiPldpbm5lciBRMTwvZGl2PgogICAgPGRpdiBjbGFzcz0idnMiPnZzPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJwbGF5ZXIiPldpbm5lciBRMjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjwvYm9keT4KPC9odG1sPgo=",
};

/* decode helper */
function decodeB64(s){ try{ return atob(s); }catch(e){ console.error('decode error',e); return ''; } }

/* build PRELOADED_BRACKETS structure decoded */
const PRELOADED_BRACKETS = {
  TH13: {
    stage1: decodeB64(EMBED_B64["TH13_stage1"]),
    stage2: decodeB64(EMBED_B64["TH13_stage2"]),
    stage3: decodeB64(EMBED_B64["TH13_stage3"])
  },
  TH15: {
    stage1: decodeB64(EMBED_B64["TH15_stage1"]),
    stage2: decodeB64(EMBED_B64["TH15_stage2"]),
    stage3: decodeB64(EMBED_B64["TH15_stage3"])
  },
  TH17: {
    stage1: decodeB64(EMBED_B64["TH17_stage1"]),
    stage2: decodeB64(EMBED_B64["TH17_stage2"]),
    stage3: decodeB64(EMBED_B64["TH17_stage3"])
  }
};

let currentTH = null;

/* UI refs */
const loginBtn = document.getElementById('loginBtn');
const passwordInput = document.getElementById('password');
const loginBox = document.getElementById('login-box');
const panel = document.getElementById('panel');
const thTitle = document.getElementById('th-title');
const stageSelect = document.getElementById('stage');
const bracketPreview = document.getElementById('bracket-preview');
const exportArea = document.getElementById('exportArea');
const copyBtn = document.getElementById('copyBtn');

loginBtn.addEventListener('click', onLogin);
stageSelect.addEventListener('change', loadBracket);
copyBtn.addEventListener('click', handleCopyClick);

/* login */
function onLogin(){
  const pass = (passwordInput.value||'').trim();
  if(!pass){ alert('Enter password'); return; }
  const th = PASSWORDS[pass];
  if(!th){ alert('Invalid password'); return; }
  currentTH = th;
  thTitle.innerText = currentTH + ' â€” Staff Panel';
  loginBox.classList.add('hidden');
  panel.classList.remove('hidden');
  loadBracket();
}

/* load bracket into preview and attach winner-selection handlers */
function loadBracket(){
  if(!currentTH) return;
  const stage = 'stage' + stageSelect.value;
  const html = (PRELOADED_BRACKETS[currentTH] && PRELOADED_BRACKETS[currentTH][stage]) || '';
  if(!html){ bracketPreview.innerHTML = '<em>No bracket embedded for this stage.</em>'; exportArea.value=''; copyBtn.disabled=true; return; }
  // Insert exact HTML into preview area
  bracketPreview.innerHTML = html;
  // Also set export area to exact original HTML (we will serialize with winner classes when user toggles)
  exportArea.value = html;
  copyBtn.disabled = false;
  attachWinnerClicks();
}

/* attach click handlers to .player elements inside preview */
function attachWinnerClicks(){
  const players = bracketPreview.querySelectorAll('.player');
  players.forEach(p=>{
    p.style.cursor = 'pointer';
    p.addEventListener('click', ()=>{
      const match = p.closest('.match');
      if(!match) return;
      // remove winner class from all players in this match
      match.querySelectorAll('.player').forEach(s=>s.classList.remove('winner'));
      // add to clicked
      p.classList.add('winner');
      // update exportArea to current outerHTML of bracket container
      // find top-level bracket element to export (prefer .bracket, .bracket-wrapper, .bracket-box)
      const bracketEl = bracketPreview.querySelector('.bracket') || bracketPreview.querySelector('.bracket-wrapper') || bracketPreview.querySelector('.bracket-box') || bracketPreview;
      exportArea.value = bracketEl.outerHTML;
    }, {passive:true});
  });
}

/* copy with robust fallback (must be user gesture) */
async function handleCopyClick(){
  const html = exportArea.value || '';
  if(!html){ alert('Nothing to copy'); return; }

  // Try navigator.clipboard first (user gesture)
  if(navigator.clipboard && navigator.clipboard.writeText){
    try{
      await navigator.clipboard.writeText(html);
      alert('Bracket HTML copied to clipboard!');
      return;
    }catch(err){
      console.warn('clipboard.writeText failed:', err);
    }
  }

  // Fallback to execCommand copy via temp textarea
  const ta = document.createElement('textarea');
  ta.value = html;
  ta.setAttribute('readonly','');
  ta.style.position = 'absolute';
  ta.style.left = '-9999px';
  document.body.appendChild(ta);
  ta.select();
  ta.setSelectionRange(0, ta.value.length);

  let ok = false;
  try{
    ok = document.execCommand('copy');
  }catch(e){ ok=false; }

  document.body.removeChild(ta);

  if(ok){
    alert('Bracket HTML copied to clipboard (fallback).');
    return;
  }

  // Final fallback: ensure exportArea visible and instruct manual copy
  exportArea.focus();
  exportArea.select();
  alert('Automatic copy blocked by browser. Please press Ctrl/Cmd+C to copy the HTML from the box.');
}

</script>
</body>
</html>
